{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"aC=ah-;K;ojuv:O@)1{v\">L_mqtt_message</variable><variable id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</variable><variable id=\"g}oC~dd5C-ehu(kN?ca$\">L_device_id</variable><variable id=\"K@_5qM]LP/$1?%yte]tj\">L_content</variable><variable id=\"guQgJc~;|+xwbDNLCjA~\">L_topic</variable><variable id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</variable><variable id=\"0*)F984h9K%PP9kfdIA/\">L_ms_from_now</variable><variable id=\"bMM|vS.Py,Wk+1TG}%G:\">L_boolean</variable><variable id=\"o[qk9).N}x1eCgym9HA`\">timer1</variable><variable id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</variable><variable id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</variable><variable id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</variable><variable id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</variable><variable id=\"CyUlGfyW7`T{UAS#nwxE\">pir_state</variable><variable id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</variable><variable id=\"bv_x?u)Zpx|{M:Jh#)SV\">timer2</variable><variable id=\"mhq6E`O%p|UZ3)(H}zqd\">timer3</variable><variable id=\"0f0Fz7d^v{wr#s2xA1I8\">C_soil_humid_lower_limit</variable><variable id=\"#(M%9;*TlClci?@B6g[L\">pump_state</variable><variable id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</variable><variable id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</variable><variable id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</variable><variable id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</variable><variable id=\"O4aX%.yS//bU-PG9y,YF\">fan_state</variable><variable id=\".8EWoxfeka[$sj0.%zH$\">air_temp_state</variable><variable id=\"Z/=T~w$6!x)?sI1h{/pG\">C_air_sensor_device_id</variable><variable id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</variable><variable id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</variable><variable id=\"]L3/hvz{eOYXIet7T.uU\">C_house_id</variable><variable id=\"G;~5Y5XhYPM-*9vUf!Dw\">C_room_id</variable><variable id=\"9TI]d6;zbkczKC#EvuR`\">C_soil_humid_upper_limit</variable><variable id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</variable><variable id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</variable><variable id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</variable><variable id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</variable><variable id=\"Hg[4$2P8VVPShv/qTL?A\">air_humid_state</variable><variable id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</variable><variable id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</variable><variable id=\"h/%-a];MJL4h:Zc#ES)b\">C_ultrasonic_distance_threshold_cm</variable><variable id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</variable><variable id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</variable><variable id=\"]+lj6Jhm(U87+p+IzPUh\">C_soil_sensor_device_id</variable><variable id=\"uAiy_Gn;gI,#Y!SCk=48\">servo_cmd</variable><variable id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</variable><variable id=\"^[Rb(5$Zs?Apl5Am]GZX\">door_control_id_result</variable><variable id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</variable><variable id=\"F@{Z/ns6Jgr=-Ooz/1#;\">ultrasound_state</variable><variable id=\"Xp#!3QGB=^uph_j3pIEC\">rgb_led_cmd</variable><variable id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</variable><variable id=\"*Z:9W#Y`6[Pm~-sCDC-a\">C_rgb_led_device_id</variable></variables><block type=\"procedures_defreturn\" id=\"N{tk`m}U]swc3K8i_NX3\" x=\"1087\" y=\"-1887\"><mutation><arg name=\"L_mqtt_message\" varid=\"aC=ah-;K;ojuv:O@)1{v\"></arg></mutation><field name=\"NAME\">split_mqtt_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"a`]3lP=zzD~)9t0P|IFF\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field><value name=\"VALUE\"><block type=\"lists_split\" id=\"-HnG+|mP.6#s#PfqECtf\"><mutation mode=\"SPLIT\"></mutation><field name=\"MODE\">SPLIT</field><value name=\"INPUT\"><block type=\"text_trim\" id=\"Q4}!H$jS{M::Py3irK=E\"><field name=\"MODE\">BOTH</field><value name=\"TEXT\"><shadow type=\"text\" id=\"j4+4tY56X-synZCxiPx;\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"eE-vsFvOY7R}0lQ/Wu79\"><field name=\"VAR\" id=\"aC=ah-;K;ojuv:O@)1{v\">L_mqtt_message</field></block></value></block></value><value name=\"DELIM\"><shadow type=\"text\" id=\"HA:#(x#pb3Xy4sPwATu-\"><field name=\"TEXT\">;</field></shadow></value></block></value></block></statement><value name=\"RETURN\"><block type=\"variables_get\" id=\"8G+),6mGQap[;K+qbc$;\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field></block></value></block><block type=\"procedures_defreturn\" id=\"]?H`[?JBSiLE+rX.I]v7\" x=\"1087\" y=\"-1787\"><mutation><arg name=\"L_mqtt_message\" varid=\"aC=ah-;K;ojuv:O@)1{v\"></arg></mutation><field name=\"NAME\">get_mqtt_mesage_content</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"khSdItRI8NZ.:M=4$MI(\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field><value name=\"VALUE\"><block type=\"lists_split\" id=\"n_E7+71P_GZI$qHkI:^C\"><mutation mode=\"SPLIT\"></mutation><field name=\"MODE\">SPLIT</field><value name=\"INPUT\"><block type=\"text_trim\" id=\"AKC3ncnSyZjtDB_Y`-kx\"><field name=\"MODE\">BOTH</field><value name=\"TEXT\"><shadow type=\"text\" id=\"j4+4tY56X-synZCxiPx;\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"5{g#?9g:YX8tZzsuZm8@\"><field name=\"VAR\" id=\"aC=ah-;K;ojuv:O@)1{v\">L_mqtt_message</field></block></value></block></value><value name=\"DELIM\"><shadow type=\"text\" id=\"*C-ow}CwFVpl}ARarymf\"><field name=\"TEXT\">;</field></shadow></value></block></value></block></statement><value name=\"RETURN\"><block type=\"lists_getIndex\" id=\";p2|jkYjjI.n~D#x-sYv\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">LAST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"SMOKv^d%$R1uvT{z5W=d\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field></block></value></block></value></block><block type=\"procedures_defreturn\" id=\"?Gw=D};SdlD3wmTA12GK\" x=\"1087\" y=\"-1662\"><mutation><arg name=\"L_list_return\" varid=\"[M6rT;349;I~r|r-WB5y\"></arg></mutation><field name=\"NAME\">check_mqtt_message_id_correct</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"~;b#-3.2m!HBugtCa)P3\"><field name=\"VAR\" id=\"bMM|vS.Py,Wk+1TG}%G:\">L_boolean</field><value name=\"VALUE\"><block type=\"math_number\" id=\"a$]02nn;js-%aw22]}5C\"><field name=\"NUM\">0</field></block></value><next><block type=\"controls_if\" id=\"rf785}_j*v{.Kw5BZ$(Q\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"N!}toH+l!JC,%wIQVufx\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"lists_length\" id=\")7_H.H1x-K8JX!h(MM1g\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"8VUHGAsZLtP}U-+M,zJa\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"D2^8BlCv;ccT0:(UpMlQ\"><field name=\"NUM\">4</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"![SCfX_,dG*[*W]=I?Z9\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"nf%|W9b_tj5!M]|80!x-\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"=$eo-[opcpg$6ht6mi(E\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"lists_getIndex\" id=\"qZICm]_FdzfZW9}oqEHr\"><mutation statement=\"false\" at=\"true\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"UiLav!A~UfXJzrd%6.::\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field></block></value><value name=\"AT\"><block type=\"math_number\" id=\"|G^Gvs|ne%JVhfH.K0S`\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"B\"><block type=\"variables_get\" id=\"PNU#rJLw}5vGw-I-XjBy\"><field name=\"VAR\" id=\"]L3/hvz{eOYXIet7T.uU\">C_house_id</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\",c^FWi8giJCci+|5Vd55\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"lists_getIndex\" id=\"_La6jP30e#JxSyxc0duI\"><mutation statement=\"false\" at=\"true\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"O$$S@9O1$)HrDGw6AD99\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field></block></value><value name=\"AT\"><block type=\"math_number\" id=\"cHu50Y$;G*.GGE;T1y0e\"><field name=\"NUM\">2</field></block></value></block></value><value name=\"B\"><block type=\"variables_get\" id=\";n^W{c{%9B-5M6/cs@oC\"><field name=\"VAR\" id=\"G;~5Y5XhYPM-*9vUf!Dw\">C_room_id</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Igqw$QB~A}2k.wmG|=V2\"><field name=\"VAR\" id=\"bMM|vS.Py,Wk+1TG}%G:\">L_boolean</field><value name=\"VALUE\"><block type=\"math_number\" id=\"4*M:U~JqH;|54{x6)R%n\"><field name=\"NUM\">1</field></block></value></block></statement></block></statement></block></next></block></statement><value name=\"RETURN\"><block type=\"variables_get\" id=\"uD^kJgd5]xCJUHaj(!sP\"><field name=\"VAR\" id=\"bMM|vS.Py,Wk+1TG}%G:\">L_boolean</field></block></value></block><block type=\"procedures_defnoreturn\" id=\"siA^]qzv?9^:9Wj8~-4x\" x=\"238\" y=\"-1413\"><field name=\"NAME\">init_variable</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"YHe3;SO0;EmJnnOT{Ey:\"><field name=\"VAR\" id=\"o[qk9).N}x1eCgym9HA`\">timer1</field><value name=\"VALUE\"><block type=\"math_number\" id=\"aPcx9TEAlr65fYLV$}s`\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"Di6/[a^|{J`T=7y%8kZ=\"><field name=\"VAR\" id=\"bv_x?u)Zpx|{M:Jh#)SV\">timer2</field><value name=\"VALUE\"><block type=\"math_number\" id=\"qVLn$,V]?)}rF1c|C`so\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"XfIN}1zU]~b5px/KX#/x\"><field name=\"VAR\" id=\"mhq6E`O%p|UZ3)(H}zqd\">timer3</field><value name=\"VALUE\"><block type=\"math_number\" id=\"Gy}~i4]+*GpLQg^?oJsV\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"/u#xM%B`HXQTCTR^~xH2\"><field name=\"VAR\" id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"o*F@Mz)w?B*As2GcS(NE\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"TddMz!e#1,$pt40*;LKn\"><field name=\"VAR\" id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"V.,5|aP/Kc27kQdZn;jB\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"}pV-3Q+x``j#;BUWD]@b\"><field name=\"VAR\" id=\"^[Rb(5$Zs?Apl5Am]GZX\">door_control_id_result</field><value name=\"VALUE\"><block type=\"text\" id=\"g|}zt8{AyJPh/#xQ2Uyy\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"JJs3GCXun0tr?$EdW6d,\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"pF{HB_8QFkn`+H0C+;bU\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"]fJnjN/^:BJy(iYB^6dG\"><field name=\"VAR\" id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</field><value name=\"VALUE\"><block type=\"text\" id=\"vBhUihNlBd#`43|l);!U\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"gw*ZyGE+zkr;0Wk?+mc5\"><field name=\"VAR\" id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"k:yWv,3EgKpQ-6m~9i9w\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"BjO`I|6W*M8@BcezeC;S\"><field name=\"VAR\" id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"lB7OyGqSWiUTF!vqO645\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"pJZ!4PT/^B;;_S|5?%GF\"><field name=\"VAR\" id=\"Xp#!3QGB=^uph_j3pIEC\">rgb_led_cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"6/^B{avDZck3=2j-UBdH\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"5gyC*k@ZdQ1cF1xzmJrr\"><field name=\"VAR\" id=\"uAiy_Gn;gI,#Y!SCk=48\">servo_cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"-N#`MXq@Y.fPYQ[%Q/iH\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"J)A`Y{MG`FB|{EA.`c*=\"><field name=\"VAR\" id=\"uAiy_Gn;gI,#Y!SCk=48\">servo_cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"v:1uF)MuD1G2W-V8J34_\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"*Nu5UO%Na=Wjbi!0r~6x\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field><value name=\"VALUE\"><block type=\"text\" id=\"M%];2%PI1?E]l,x89Q]Q\"><field name=\"TEXT\">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defreturn\" id=\"SJ~S@cF1DzJvXob}`Py9\" x=\"1088\" y=\"-1413\"><mutation><arg name=\"L_list_return\" varid=\"[M6rT;349;I~r|r-WB5y\"></arg><arg name=\"L_device_id\" varid=\"g}oC~dd5C-ehu(kN?ca$\"></arg></mutation><field name=\"NAME\">check_mqtt_message_device_id_correct</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"9bbu.KGG*BY2wq5w-cGj\"><field name=\"VAR\" id=\"bMM|vS.Py,Wk+1TG}%G:\">L_boolean</field><value name=\"VALUE\"><block type=\"math_number\" id=\"Lbk1#-F.0/iw5WpNsaH1\"><field name=\"NUM\">0</field></block></value><next><block type=\"controls_if\" id=\"qU(r~7e3`3+W[Z98OUq|\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"eI6nYDc7!Z+v{k-WbypF\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"lists_length\" id=\"$yj*wN6(A5E!9Fa:.++j\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"2f^Bdt-Y@K2jTm^x=9EU\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"F9pX{t@%0*BDeOLp~s6U\"><field name=\"NUM\">4</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"uXE)Lr#hpVS2MDLwn~_k\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"F%zk2,X:um)@m@Zxuw-@\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"lists_getIndex\" id=\"~_i9CV~;Gwf}XIJ.5+Id\"><mutation statement=\"false\" at=\"true\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FROM_START</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"}:Cr#o.FCoX%ztcC$4N*\"><field name=\"VAR\" id=\"[M6rT;349;I~r|r-WB5y\">L_list_return</field></block></value><value name=\"AT\"><block type=\"math_number\" id=\"uV/rKsZ1u+z2mX)znD%X\"><field name=\"NUM\">3</field></block></value></block></value><value name=\"B\"><block type=\"variables_get\" id=\":.xR}^UJe|EKX64]U~|?\"><field name=\"VAR\" id=\"g}oC~dd5C-ehu(kN?ca$\">L_device_id</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"|x!lwlhAk#_$[GCK^[G~\"><field name=\"VAR\" id=\"bMM|vS.Py,Wk+1TG}%G:\">L_boolean</field><value name=\"VALUE\"><block type=\"math_number\" id=\"DgQjM^0A7(KyaIw5:t`8\"><field name=\"NUM\">1</field></block></value></block></statement></block></statement></block></next></block></statement><value name=\"RETURN\"><block type=\"variables_get\" id=\"iUg3oZ[xvPl[X_v/.oK{\"><field name=\"VAR\" id=\"bMM|vS.Py,Wk+1TG}%G:\">L_boolean</field></block></value></block><block type=\"procedures_defnoreturn\" id=\"|j`-[3xYg)2Rxjz=e(!]\" x=\"1087\" y=\"-1188\"><mutation><arg name=\"L_device_id\" varid=\"g}oC~dd5C-ehu(kN?ca$\"></arg><arg name=\"L_content\" varid=\"K@_5qM]LP/$1?%yte]tj\"></arg><arg name=\"L_topic\" varid=\"guQgJc~;|+xwbDNLCjA~\"></arg></mutation><field name=\"NAME\">publish_mqtt_with_id</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_publish\" id=\"xYaKi~he@q~pZS_`7T|e\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"qi%80RI3-G/Zxtsgx)Y#\"><field name=\"TEXT\">Hello</field></shadow><block type=\"text_join\" id=\"8x5-g7mTsJ|IaF[b9``/\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"e|D[0ZpSls$p)A4g62HW\"><field name=\"VAR\" id=\"]L3/hvz{eOYXIet7T.uU\">C_house_id</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"G=2XBY_lgSbd5$tIB$2c\"><field name=\"TEXT\">;</field></block></value><value name=\"ADD2\"><block type=\"variables_get\" id=\";.!{p*IYW[+eDrAW.hs~\"><field name=\"VAR\" id=\"G;~5Y5XhYPM-*9vUf!Dw\">C_room_id</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"?FrLfo?`xpcxwSePMrd]\"><field name=\"TEXT\">;</field></block></value><value name=\"ADD4\"><block type=\"variables_get\" id=\"aS%s?iCuEDB,L8Q5@y:j\"><field name=\"VAR\" id=\"g}oC~dd5C-ehu(kN?ca$\">L_device_id</field></block></value><value name=\"ADD5\"><block type=\"text\" id=\"@@$zC+3{pPnll${u*T|j\"><field name=\"TEXT\">;</field></block></value><value name=\"ADD6\"><block type=\"variables_get\" id=\"y_L]NKhay+C?Qx4DP)t1\"><field name=\"VAR\" id=\"K@_5qM]LP/$1?%yte]tj\">L_content</field></block></value></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"th8;Kw33p^tI@LTiOete\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"yi+VuS^e@5@J9.y$`:*u\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"tV9z4v243!J2w%.r:_ci\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"variables_get\" id=\"ois!HIn[WKSNX8PXXY30\"><field name=\"VAR\" id=\"guQgJc~;|+xwbDNLCjA~\">L_topic</field></block></value></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"ybQx3#6:}+eJjF0aNS$g\" x=\"238\" y=\"-987\"><field name=\"NAME\">init_user_constant</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"VT~NC37zp%/tJp@ba#@n\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field><value name=\"VALUE\"><block type=\"text\" id=\"Z$O9+x=OZR+$BSzoY%76\"><field name=\"TEXT\">test_bk231_dadn/</field></block></value><next><block type=\"variables_set\" id=\"@^8$.BP:2{+{tthd)]`8\"><field name=\"VAR\" id=\"0f0Fz7d^v{wr#s2xA1I8\">C_soil_humid_lower_limit</field><value name=\"VALUE\"><block type=\"math_number\" id=\"};Ll3)G3GHaG!([^il_U\"><field name=\"NUM\">50</field></block></value><next><block type=\"variables_set\" id=\"gaI;R4HJqZdm|hyMiI#D\"><field name=\"VAR\" id=\"9TI]d6;zbkczKC#EvuR`\">C_soil_humid_upper_limit</field><value name=\"VALUE\"><block type=\"math_number\" id=\"dq=QbOLvkDYOhlTSvgKr\"><field name=\"NUM\">70</field></block></value><next><block type=\"variables_set\" id=\"S8uj_;D+@F=--bRG!m!v\"><field name=\"VAR\" id=\"h/%-a];MJL4h:Zc#ES)b\">C_ultrasonic_distance_threshold_cm</field><value name=\"VALUE\"><block type=\"math_number\" id=\"vvi|?xyVA/mEusA(45]F\"><field name=\"NUM\">75</field></block></value><next><block type=\"variables_set\" id=\"I!x}[IJRVAoBt`q[R.4a\"><field name=\"VAR\" id=\"]L3/hvz{eOYXIet7T.uU\">C_house_id</field><value name=\"VALUE\"><block type=\"text\" id=\"n@teJqxz[~S@N?xd/p}_\"><field name=\"TEXT\">test_house</field></block></value><next><block type=\"variables_set\" id=\"|tCi*k`ttr8JYgt#1T%s\"><field name=\"VAR\" id=\"G;~5Y5XhYPM-*9vUf!Dw\">C_room_id</field><value name=\"VALUE\"><block type=\"text\" id=\"BSi23q:?BF2{hj-ME(XE\"><field name=\"TEXT\">test_room</field></block></value><next><block type=\"variables_set\" id=\"RPzsJ;R:L@w2Als#w36p\"><field name=\"VAR\" id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</field><value name=\"VALUE\"><block type=\"text\" id=\"$bR=Q-2ie@80Xse(szCz\"><field name=\"TEXT\">test_servo</field></block></value><next><block type=\"variables_set\" id=\"DeQtm{+jp^C8,2VGT{NB\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field><value name=\"VALUE\"><block type=\"text\" id=\"m6;Krt,YM;/T~un-4c^,\"><field name=\"TEXT\">test_fan</field></block></value><next><block type=\"variables_set\" id=\"Gsb!LE:EO]$VXPYsM,is\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field><value name=\"VALUE\"><block type=\"text\" id=\";*a/,{LtaV+B%V.yvlLf\"><field name=\"TEXT\">test_relay</field></block></value><next><block type=\"variables_set\" id=\"BAR?{.{{;fn7M0j|}ojM\"><field name=\"VAR\" id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</field><value name=\"VALUE\"><block type=\"text\" id=\"z^R@Bm),cuPUrbn*t)|d\"><field name=\"TEXT\">test_pump</field></block></value><next><block type=\"variables_set\" id=\"X)mqA@Jb]fHSKSfy7!|V\"><field name=\"VAR\" id=\"*Z:9W#Y`6[Pm~-sCDC-a\">C_rgb_led_device_id</field><value name=\"VALUE\"><block type=\"text\" id=\"w$S2WY_vv*nxtnO?x)tq\"><field name=\"TEXT\">test_rgb_led</field></block></value><next><block type=\"variables_set\" id=\"G#Tfq~x!~HvdTvRJUijg\"><field name=\"VAR\" id=\"Z/=T~w$6!x)?sI1h{/pG\">C_air_sensor_device_id</field><value name=\"VALUE\"><block type=\"text\" id=\"Lj)VZH]z#m9we|x2k%h2\"><field name=\"TEXT\">test_air_sensor</field></block></value><next><block type=\"variables_set\" id=\"fe}`=x*)aUHb/_J]C5gD\"><field name=\"VAR\" id=\"]+lj6Jhm(U87+p+IzPUh\">C_soil_sensor_device_id</field><value name=\"VALUE\"><block type=\"text\" id=\"MVc:x@PG.TInz6Qy6Cq[\"><field name=\"TEXT\">test_soil_sensor</field></block></value><next><block type=\"text_print\" id=\"J/O}gT9n6D0Mx.NTIO:y\"><value name=\"TEXT\"><shadow type=\"text\" id=\"26Y6iKx:S|*{.$}PJ$-`\"><field name=\"TEXT\">User constant set...</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"+=$nq3s**_c])bhMUz(C\" x=\"1088\" y=\"-937\"><field name=\"NAME\">send_output_state</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"procedures_callnoreturn\" id=\"}cukO{Lua5gP/Ov;_wD_\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"99;Lf$QlIpGsU6zs^JkI\"><field name=\"VAR\" id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"Y/C@ly)cdv/^9K]8M@T^\"><field name=\"VAR\" id=\"#(M%9;*TlClci?@B6g[L\">pump_state</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"{]P?J4G|gKl6~z|Me!J2\"><field name=\"TEXT\">output/pump/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"1u)?YknC,Eze,0lR?V{#\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"Ki8vd,pmKV6*Mb!9KQ95\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"%c^.ad!-X_:F43)J?ItC\"><field name=\"VAR\" id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"6dT(^CmJ%4Cr@+jvI._n\"><field name=\"TEXT\">output/rgb_led/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"qI[m*],B_(N|,nJ$iyA_\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"V=p/!e%ifud`|IRGptST\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"k-+yb@:SKBP=Q?V_nW/r\"><field name=\"VAR\" id=\"O4aX%.yS//bU-PG9y,YF\">fan_state</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"1=fZ]8d}Q0U7p#)J1jp9\"><field name=\"TEXT\">output/fan/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"*d$|T1SV*AxPx2El+*St\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"#}:g-%CUOvPAMaJOEUQ8\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"/Z.`9.`E64/]RLS]n+F]\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"KbS`eDcCD6r0];]7eq]B\"><field name=\"TEXT\">output/relay/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"IR=NVimtdw/XRpjh`,+P\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"yb4:r$wa+z0r[`qkI[-_\"><field name=\"VAR\" id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"swAyyzWMWTrMwmtmU`tB\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"Vrn9F:w!WDlhXQX7bdJ-\"><field name=\"TEXT\">output/servo/state</field></block></value><next><block type=\"xbot_serial_write_string\" id=\"TP/g55)$n]8le_1lLMI5\"><value name=\"string\"><shadow type=\"text\" id=\"@F3O5|eabze$hq6nDsU1\"><field name=\"TEXT\">Output state sent...</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"8@IKQWTcy+S@={J`[%gg\" x=\"1913\" y=\"-938\"><mutation><arg name=\"L_cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">servo_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"?:Bmg|LRV6sT}l9bXey.\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"~bte@)q]gLCQul8^DU2^\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Wl;U?+SNKv=2f5;DB(-X\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"8W%s.%|h=fGu|Nso$`#v\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"}WM0mTlPyGre@GLI}-:v\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field><value name=\"VALUE\"><block type=\"text\" id=\"TF1;N@;%d,SOw0]$`+G?\"><field name=\"TEXT\">0</field></block></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"46sn9@|(QY,VY[}gMuW5\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"J#`EsC]D:eJ0nbnet~a5\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"j+YdI}Tn!n7=$9`(8Jb6\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"iX#u3{NZ;!}.STI7%`wR\"><field name=\"VAR\" id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"MXjxbB`_iwCseKy3l-Dx\"><field name=\"TEXT\">0</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"ZC/9HQ`2|[fNEy!0#D6Z\"><field name=\"TEXT\">output/servo/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"e_}pX_FM+|#kNLrmzf|W\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"^,(ts(^hz-gC91F0{f$^\"><field name=\"VAR\" id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"tBk!^_z8^6A]1#/@m)~]\"><field name=\"TEXT\">Servo command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"JTV[azpqi#5XN``fl!k2\"><field name=\"TEXT\">output/servo/result</field></block></value></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"DvgU%m)ER3/)|gxd]rN{\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"y%zI{VpN0p/`RQa$;|A5\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"7GAwKg:tSASx9rw?.bXo\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\",.38^Y.UEv+uHGmgy0`c\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field><value name=\"VALUE\"><block type=\"text\" id=\"dmnCJV75VabZe-o6Y$n9\"><field name=\"TEXT\">1</field></block></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\";o0g6@~A:*WeTCSCyh+G\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"[T6([.At;|!g`6?HQqZF\"><field name=\"NUM\">90</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"SP%E?5_x{v~kp452b(JR\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"|*2DK`QO@;%A87??[#!+\"><field name=\"VAR\" id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"U{h,`klwbBUA3l9d!XME\"><field name=\"TEXT\">1</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"CVE@2_zWy+@vAE|oATaS\"><field name=\"TEXT\">output/servo/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\")k5_bOm}IXcE--)|n0)f\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"4Vtc]MK^l@1}-^zFk;c:\"><field name=\"VAR\" id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"Y.ej*j~z%4a?68R(~(O%\"><field name=\"TEXT\">Servo command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"[m1OX@F${l(fX)K{TgNv\"><field name=\"TEXT\">output/servo/result</field></block></value></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"[?zrB{YKw{CD{UDP!LH~\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"4j[T!1.j=TC,}xOyQA@n\"><field name=\"VAR\" id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"Yj`q.L@`7}OIdUHhLUw!\"><field name=\"TEXT\">Servo unknown command</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\";C}2$d9?FXCKYZ[fgmf.\"><field name=\"TEXT\">output/servo/result</field></block></value></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"gDzB@BM?{z1Eab9,qfUG\" x=\"3138\" y=\"-788\"><field name=\"NAME\">plan_watering_state_machine_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"O.X|GYdV:=[~xKr`!Mdv\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"#WH2?=vSiv0G_Qk8aRyw\"><field name=\"NUM\">0</field></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"hu#l:62Y?h2tqI@S|CEL\" x=\"-87\" y=\"-562\"><field name=\"NAME\">startup_procedure</field><comment pinned=\"false\" h=\"80\" w=\"160\">Khởi tạo thiết bị và các kết nối - bao gồm MQTT và NTP</comment><statement name=\"STACK\"><block type=\"text_print\" id=\";No2e$WMyqk_zXCx$f6R\"><value name=\"TEXT\"><shadow type=\"text\" id=\"$UH.:5/y2l5thbg=J@Nv\"><field name=\"TEXT\">Starting...</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"7y0tp3-eNO9fc+A$2hYj\"><mutation name=\"init_variable\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"!DkEH@vkX~H(|mY,ci9$\"><mutation name=\"init_user_constant\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"^sg%xrzO[`6LFrEef:Wa\"><mutation name=\"connect_wifi\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"XAP9_Fo){eia6LQ8XPZ/\"><mutation name=\"init_mqtt\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"V%C0|ts;-t5l[XtT#qL^\"><mutation name=\"register_mqtt_receive_callback\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"oS;M:Yg1whij6Sf:+{xL\"><mutation name=\"ntp_update\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"_zi*T@4nwE(5{g_i:moC\"><mutation name=\"init_input\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"/W0CvCV+}:YibRh4m;NF\"><mutation name=\"init_output\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"`Z-}v_dYghi)-N^V9SNt\"><mutation name=\"state_machines_init\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"zN#=_6Q:@-GCT(AU3mBg\" x=\"4388\" y=\"-787\"><field name=\"NAME\">light_control_state_machine_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"S!|Qio-pN)B7DbwSoB4K\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"VDY~K!Kz``vl=)LFz~VP\"><field name=\"NUM\">0</field></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"a8kAT!b+(z7i3y)*Cy#j\" x=\"3138\" y=\"-687\"><field name=\"NAME\">plan_watering_state_action</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment></block><block type=\"procedures_defnoreturn\" id=\"cvZ0Sotb0bGdfPZ/DbI{\" x=\"5463\" y=\"-787\"><field name=\"NAME\">door_control_state_machine_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"^pd5FB%jnPjf%aU%C@@2\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"2sY,DY3#hij$:![WK/Dw\"><field name=\"NUM\">0</field></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\",1~r[iNj/9|.WM0i*~#S\" x=\"238\" y=\"-512\"><field name=\"NAME\">connect_wifi</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_connect_wifi\" id=\"AN(N}.`xSXGk^^E~8iu+\"><value name=\"WIFI\"><shadow type=\"text\" id=\"Bw`JS]J6$0aXUPWXz/T5\"><field name=\"TEXT\">RMN11_Hotspot</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"zgnw![9So[LKyd.q?Rx_\"><field name=\"TEXT\">2_3_5_7_11_13</field></shadow></value><next><block type=\"text_print\" id=\"F^L{[!t[b/Jr6)=1=(=6\"><value name=\"TEXT\"><shadow type=\"text\" id=\"!`mvLTQKmk`Qx[tF)p5T\"><field name=\"TEXT\">Wi-Fi connected...</field></shadow></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"Tv;zzp#((ym!uMH:eJ,/\" x=\"4387\" y=\"-687\"><field name=\"NAME\">light_control_state_action</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment></block><block type=\"procedures_defnoreturn\" id=\"mmeo9c]d|Kg,6!kxy%p!\" x=\"3138\" y=\"-587\"><field name=\"NAME\">plan_watering_state_machine_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"l*^f*XUk8|K~%eL9%g=I\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"jgZ{^Gh^R$U8La9d|BRJ\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"lL*nGIjoq^]_k|dYNgkx\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"variables_get\" id=\"mq+`0Hxuxr,y}*WU29l.\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"I=LLPa-luy?,=Q|^j]E{\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"/x8qELnnT|rZK=K}hvzz\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"0fH.{[XiZk:y/K55hfc,\"><field name=\"VAR\" id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"M@$Cg{IwpE|fN4OTnIE|\"><field name=\"VAR\" id=\"9TI]d6;zbkczKC#EvuR`\">C_soil_humid_upper_limit</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"G/7cP!ZSVaf`WE2]14`~\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"q5#=mx}:3Yg4:#lz?fHU\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"hYhxY$;iPI/Xl7!C[lT:\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"I,ZVZ7_$v?-MjUEg0v`z\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"s)c]HTqr?9j={AyVM4OL\"><field name=\"TEXT\">Soil humidity upper limit reached</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"7]i$ZU`UI+[{K6r3qeC]\"><field name=\"TEXT\">plant_watering/notification</field></block></value></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"n=YMLEl}#zsa#UEgl|t8\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"$t4x9KjvC(bu0@cTkMpu\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"ARNzAoFc/^I1vwBaV1|9\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO1\"><block type=\"controls_if\" id=\"zn[|woec[*!1R/k=Axiz\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"9W|:eZ?b|a3cbhzZ+z=H\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"^z~C*5*pIUhFA4((fP7}\"><field name=\"VAR\" id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\")n?5:+@sd^MG$V0BzMC,\"><field name=\"VAR\" id=\"0f0Fz7d^v{wr#s2xA1I8\">C_soil_humid_lower_limit</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"AO}-v[$.^:H.w4pf@x{p\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\":_4IVCLvs5vr11$|E:6o\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Hyf[~)A]OEr|-)W|Mmx,\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"owG`@PA-iHSrJmqdRGR0\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"mMUuYDX0`Qm]iQ)GG[Mq\"><field name=\"TEXT\">Soil is dry, need watering</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"rr4)lF,AQ?a.f#HC6PSc\"><field name=\"TEXT\">plant_watering/notification</field></block></value></block></next></block></statement></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"HV;yg;2f/b;QpkUr^vI:\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"_cNm*FM(.YumqHjAc$Gw\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"J..R[eW~LQB`vwL(OiAX\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO2\"><block type=\"controls_if\" id=\"~fr;67ePpd_[GIhP#)yT\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"_317~dDr.1n0GVHbT=kP\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"]Ut2%M%#RhK,e@gw0*Ga\"><field name=\"VAR\" id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"-$(:u1%*p21yQz4/[`:T\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"5WY4w08F,@SSC/eH%(6,\"><field name=\"VAR\" id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"{do,r5O?ls!w5:RbW12:\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"`t:@2-YGT#Tt=^Dbqm=u\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"L@y[[(^3l:K[-Vm@N/fy\"><field name=\"NUM\">2</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"rY`|e^37o@A^rClg~~NZ\"><mutation name=\"set_timer1_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"y!T`DXZCs|8AA*rRmr/D\"><field name=\"NUM\">30000</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"_xMd6/0Ms*SW+l7BuX]d\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"Z~dp)[s9wQRBF#uh|EXE\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"(`evQ!k$$wmmo,F*4=lu\"><field name=\"TEXT\">Watering activated</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"My{fn;D;N[U+KxDrC/a@\"><field name=\"TEXT\">plant_watering/notification</field></block></value></block></next></block></next></block></next></block></statement></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"Y*Zbs;XqB~`4a2#X26`Y\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"ex[qwEXj,r;u!+C}BjkH\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"VXE}@8l*Wmu?^HQ%nKu[\"><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO3\"><block type=\"controls_if\" id=\"kX!;m;~cfv_z7M,qz~f-\"><value name=\"IF0\"><block type=\"procedures_callreturn\" id=\"tLVrf=C0w{RNREl{ULCN\"><mutation name=\"is_timer1_elapsed\"></mutation></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\")$*t}uHbQRQz`^3]wMbY\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"Eot#^|u2rV!cHH6ReVb~\"><field name=\"NUM\">3</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"=0RJr|Nc,^Y.SETZz@3b\"><mutation name=\"set_timer1_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"0Pb*mSyB-)*V)GSJ7=D[\"><field name=\"NUM\">2000</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"O!D0[91_^M/)Fx;`./9E\"><mutation name=\"pump_control\"><arg name=\"L_cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"j=sCl)=Ny[O-V-.7-q[e\"><field name=\"TEXT\">1</field></block></value></block></next></block></next></block></statement></block></statement><value name=\"IF4\"><block type=\"logic_compare\" id=\":B|bZGHPZe77n~HeT:r~\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"hBJ2L!%Qjp_/O!_g)N!;\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Y_^JrK5[SJ/~w-u]{.:v\"><field name=\"NUM\">3</field></block></value></block></value><statement name=\"DO4\"><block type=\"controls_if\" id=\"@IP-qN@Us/.Fuh-Fk/$|\"><value name=\"IF0\"><block type=\"procedures_callreturn\" id=\"822O#,25+hUQ$k1LxoG_\"><mutation name=\"is_timer1_elapsed\"></mutation></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Hsq5Wt/oqnwT34r(c~=r\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"GbsFc/F|bTg23wG%i;dL\"><field name=\"NUM\">2</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"TxJ_9h4LOOK.~goD:j~J\"><mutation name=\"set_timer1_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"uts[I[^3x,=rYGi^KP%h\"><field name=\"NUM\">30000</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"*_D6.-63#W/CVc~=U;j~\"><mutation name=\"pump_control\"><arg name=\"L_cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"kfRb,y8aa+fz;Iik]Nre\"><field name=\"TEXT\">0</field></block></value></block></next></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"?TvFcf:.?I?oNFtRT8Bb\"><mutation name=\"plan_watering_state_machine_init\"></mutation><next><block type=\"text_print\" id=\"8o_}Cx+^~}Z5Mqq7lPc{\"><value name=\"TEXT\"><shadow type=\"text\" id=\"GFsaDWcU1Bb(iV[|S#z:\"><field name=\"TEXT\">Plan watering state machine error, reset state machine...</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"h@29c_m14`6!geD;x!=~\" x=\"5462\" y=\"-687\"><field name=\"NAME\">door_control_state_action</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment></block><block type=\"procedures_defnoreturn\" id=\"E{oBhrgnLNfDo_5V98ls\" x=\"237\" y=\"-388\"><field name=\"NAME\">init_mqtt</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_connect_custom_servers\" id=\"gWglgDUi%K8Z`1_w$rev\"><value name=\"SERVER\"><shadow type=\"text\" id=\"`bkUw7)m|zep`tY+$DIx\"><field name=\"TEXT\">broker.hivemq.com</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\".ecmf[452PE@r|tY}fLP\"><field name=\"NUM\">1883</field></shadow></value><value name=\"USERNAME\"><shadow type=\"text\" id=\":wa{~1oqE(rilNZz_5Za\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEY\"><shadow type=\"text\" id=\";(=8*L{I9Z==2RTm+mM=\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"text_print\" id=\"b$AMYo3L9.e,5Bmj+Z+M\"><value name=\"TEXT\"><shadow type=\"text\" id=\"eBYe+peti31EV}drTrKK\"><field name=\"TEXT\">MQTT broker connected...</field></shadow></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"7`17PT/7m5,7[Qbn~=+7\" x=\"4388\" y=\"-587\"><field name=\"NAME\">light_control_state_machine_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"ef!K4R[jw,|bu7c/l.5W\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"L9%R#+U-q^lZqX!1{MrJ\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"R3N@CL6L6mAEf_j2su/z\"><field name=\"VAR\" id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"F9M,I{p`e4s!3sqYGZS~\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"l{s[cLt#(*~Cg6`4izr-\"><field name=\"VAR\" id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"UT;O}AaZ`qaJ@$6QP(4K\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"o,wZJTcI|:nnwAx8OBr(\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"SN~X~Y7[}lei#f_~qAb?\"><field name=\"NUM\">3</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"K90Xx3zu0`5Vs2(u-nQg\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"E5=S1!tCO,zS@oT{x$`h\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"6ZGR_Bd#*7o|:[d[GVJ[\"><field name=\"TEXT\">Change to manual mode</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"H6okZN!.4r!#SJ1k[;wp\"><field name=\"TEXT\">light_control/notification</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"9!f/k$R(|cobO:^rt,sX\"><mutation name=\"rgb_led_control\"><arg name=\"L_cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"#5rl2T3^-35Ym{e-p9e]\"><field name=\"VAR\" id=\"Xp#!3QGB=^uph_j3pIEC\">rgb_led_cmd</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"`vqm5r9V+dIn(bb5N4LW\"><mutation name=\"set_timer2_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"v1Pl,2uriBvDJiEI2TPO\"><field name=\"NUM\">600000</field></block></value></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"E~ouP*)M%GlMq]owHxr+\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Q8i}G7|S2/F?m;!|Ti^|\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"*^szxW)UA$Vwat28P=[M\"><field name=\"NUM\">3</field></block></value></block></value><statement name=\"DO1\"><block type=\"controls_if\" id=\"L6TN].]MMis{|Ff^@k0k\"><value name=\"IF0\"><block type=\"procedures_callreturn\" id=\"gETut+dD}}AvLy~p-g-:\"><mutation name=\"is_timer2_elapsed\"></mutation></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"B4%MA[]p([-Q=[)8ZtoG\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"oc|4EKR%}]}!yn5YU|X4\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"=qNK2ZfmUhM=~QIU8Vyy\"><field name=\"TEXT\">Change to automatic mode</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"w)dudZpbvglTEDA[INLF\"><field name=\"TEXT\">light_control/notification</field></block></value><next><block type=\"controls_if\" id=\";Nw$KxH+Lhyz^wf9;{@d\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"4t0kgeOdHiDU,AVm?3`:\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\",t[DY{Q1yf_{kP;bjlM8\"><field name=\"VAR\" id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</field></block></value><value name=\"B\"><block type=\"text\" id=\";lbS:3ZXwJt=VCrODiT%\"><field name=\"TEXT\">000000000</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"pFdqkOK(:X|;PH20d[nt\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"CBS|px0Y5|dy6U|Te@r1\"><field name=\"NUM\">0</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"dgasT_z()O`*L=jD`mX)\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"[~I60PX+XVkb2[ba);Xd\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"j%Z2r$2P1x6LmrM2jNQ?\"><mutation name=\"set_timer2_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"X124KCqFO$dQUHNrsF[?\"><field name=\"NUM\">15000</field></block></value></block></next></block></statement></block></next></block></statement></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"?D?A#Ozwhv|2#CNM3D+D\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"xGy@^4pJA)R*Q0*;}ITn\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"rQel2fHQD/j~z)f+{6Wb\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO2\"><block type=\"controls_if\" id=\"0p|g9it{wU.jafP?Uu3.\"><value name=\"IF0\"><block type=\"aiot_detect_motion\" id=\"p#nVe2|TgLIdkQ%BG%X,\"><field name=\"NAME\">pin0</field></block></value><statement name=\"DO0\"><block type=\"text_print\" id=\"f?w01`QGchDi}sLE+%qd\"><value name=\"TEXT\"><shadow type=\"text\" id=\"5Ivw:Rv@%o3D_GHK#x9a\"><field name=\"TEXT\">PIR detects motion...</field></shadow></value><next><block type=\"variables_set\" id=\"90a[m_nX?hLOfnOE|}HO\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"SS]49z$Cs1s~OEV_qAVr\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"x8I)w[Ju,gKQh-^4FEDy\"><mutation name=\"set_timer2_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"QZc8dADnW_m$Ru+Z#^!u\"><field name=\"NUM\">15000</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Ad#ICn{9UJ*tmHKo[i3e\"><mutation name=\"rgb_led_control\"><arg name=\"L_cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"1z?X-@1T[SjZ,keU|)=d\"><field name=\"TEXT\">255255255</field></block></value></block></next></block></next></block></next></block></statement></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"MClw_fMNP/d+IR=[b9LI\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"}!%iZMZ7ZrIIlqiT%hbj\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"-Xnr2JM5hmn.N}8uijKS\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO3\"><block type=\"controls_if\" id=\"RsYT%0m5~b2UlWTh{D==\"><value name=\"IF0\"><block type=\"procedures_callreturn\" id=\"y2|;%6[7ROGwE/0q~`L7\"><mutation name=\"is_timer2_elapsed\"></mutation></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"Yh;Urdl7SbvU:N?AF1+N\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"H$RzGw[Ic(S~zt6NJtX7\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"lx,CE:?P2~c3fMeWdox`\"><field name=\"VAR\" id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</field></block></value><value name=\"B\"><block type=\"text\" id=\"vX;R(@T8^,+LL*p-#Z4z\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"IgN45bK7%ZatmHAuCraV\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"*M:5N`y=jb/v[{LndLg+\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Kh8NSi9#7k5q*CU.?zhh\"><mutation name=\"rgb_led_control\"><arg name=\"L_cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"4BED~=aw_t(6qXlWxZEC\"><field name=\"TEXT\">000000000</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"PPGNKyhqlUW?a?cF%aGQ\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"qgm$nx1[Tgq{O#x3`..m\"><field name=\"NUM\">2</field></block></value></block></statement></block></statement></block></statement><value name=\"IF4\"><block type=\"logic_compare\" id=\"I1r{,GT?hhMnJ=uFF*?-\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"dy]p,,%.II?oxWC_ggkB\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"4~#XwKd51KNo=Ia|ssGk\"><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO4\"><block type=\"controls_if\" id=\"~YfowE+bO6NPoAF2Ut;=\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"uA=O381#w,eBz}IX9=zy\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"`OqhO`-nGW#GL+_%-UQW\"><field name=\"VAR\" id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</field></block></value><value name=\"B\"><block type=\"text\" id=\"cDt17O[W!Cs`rM@9*,6T\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\";|Fb$dM~|2~EKz3oom!,\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"uqEUr^)SmSzLhu|L`/91\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"eLI?M5J:tuhsJRrp8R!h\"><mutation name=\"set_timer2_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"01T.6Xrcvkj7poFu}eAc\"><field name=\"NUM\">15000</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"tFF[(+!fh%sF01@j=XB6\"><mutation name=\"light_control_state_machine_init\"></mutation><next><block type=\"text_print\" id=\"vz%XTK~Qp(pXLD[.@U4a\"><value name=\"TEXT\"><shadow type=\"text\" id=\"Sa`hg1F,qpYiVIJ-6[Lv\"><field name=\"TEXT\">Light control state machine error, reset state machine...</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"u[b/PpLETs:^}}MS6+OT\" x=\"5463\" y=\"-587\"><field name=\"NAME\">door_control_state_machine_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"DZg2%F_DE[SS1.e2K;t@\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"9F(gH(1p2]5U+IYpVW2T\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"4NNJ3yI.vmIj,aJSson7\"><field name=\"VAR\" id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"obovR3Smv(3Ug|/sD|5!\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"WzMLFQHXl!|lz^+g@p/j\"><field name=\"VAR\" id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\";$$Ky/g/ip{5U%T]YJu=\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"!qflPBTRjMu/]krWM=7l\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"bM:ZbkEIk^S/BT}9W=C,\"><field name=\"NUM\">3</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Q,Sdu.DD7[{s3t/qI~M[\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"du#Au``A**$-VxhRe9vH\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"S4tCUoxBTT4?`G^jnIMu\"><field name=\"TEXT\">Change to manual mode</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"rsjOP9Ul-Yatt@t:=?*n\"><field name=\"TEXT\">door_control/notification</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"B_.0(GIA%_yKMh2/@;H7\"><mutation name=\"servo_control\"><arg name=\"L_cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"fZUv|VN1Y@}bGW/c0x!!\"><field name=\"VAR\" id=\"uAiy_Gn;gI,#Y!SCk=48\">servo_cmd</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"$HIV=wC!4]imy}q(||!B\"><mutation name=\"set_timer3_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"wOlcP#Mun;1v5Wvx90#0\"><field name=\"NUM\">30000</field></block></value></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"C+q]W8iOh4/%(}b8R,^G\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"j?{!y;In)6OKCl(tk/Cy\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"YEJ#0KxJS0)I9c6p?S@T\"><field name=\"NUM\">3</field></block></value></block></value><statement name=\"DO1\"><block type=\"controls_if\" id=\"u*yB?jKkaMOAo3g0SLmP\"><value name=\"IF0\"><block type=\"procedures_callreturn\" id=\"6t}?r6{KBj;i,Bw}89_3\"><mutation name=\"is_timer3_elapsed\"></mutation></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"In6?.`~fz^2sMfD|%O$^\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"k1;*P+8Gwl|LW{hNq)*9\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"~?o)X1!ZT]x(z^q6-m;.\"><field name=\"TEXT\">Change to automatic mode</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"*XD*g*uGs:Lu@8.7kMYC\"><field name=\"TEXT\">door_control/notification</field></block></value><next><block type=\"controls_if\" id=\"94RN!4ocrKMrY%/k6ZJo\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"vS#uDH*nO.{6PaN[}q6q\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"-`N*u^A9*e4!iy8h83=@\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field></block></value><value name=\"B\"><block type=\"text\" id=\"$8rS`k[A4[H8O#3,t-9v\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"oaca)N]0,_#MDb/[lFt^\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"E_4W$(Y-J#qWoOP$/Gm_\"><field name=\"NUM\">0</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"|)wOns#[6[2/Hd1hof+%\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"v0~SIf;hi+I;)Ps,}#NE\"><field name=\"NUM\">2</field></block></value></block></statement></block></next></block></statement></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"rU4]}oe*,oaK7rIM5Gvy\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"YDZ8c3$mrq@B7Qs_A`L2\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"~:}v86lE9%ny@)*%apcg\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO2\"><block type=\"controls_if\" id=\"AZJIafehP6WA/RkKG9QS\"><value name=\"IF0\"><block type=\"aiot_ultrasonic_checkdistance\" id=\"%Z2KVGa(WX:NoohvV{3C\"><field name=\"TYPE\">CM</field><value name=\"DISTANCE\"><shadow type=\"math_number\" id=\"O?rX[Cl*`Y%@E`[+t3(3\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"u*sVB+hDlNI[+k{U/VN}\"><field name=\"VAR\" id=\"h/%-a];MJL4h:Zc#ES)b\">C_ultrasonic_distance_threshold_cm</field></block></value></block></value><statement name=\"DO0\"><block type=\"text_print\" id=\"wmm#!kl63VuQusm0ZjbT\"><value name=\"TEXT\"><shadow type=\"text\" id=\"YVm/SSyb)8:?_|H5m4aV\"><field name=\"TEXT\">Ultrasound detects near object...</field></shadow></value><next><block type=\"variables_set\" id=\"A-JmsxA*k_%4/14`E+H$\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"P9},jU*zCBU(%Kf[qe06\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"a?,wRRMV|NyRR+=i|Zgz\"><mutation name=\"set_timer3_from_now\"><arg name=\"L_ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"r:JPOUrDqTyti?*-v4[H\"><field name=\"NUM\">15000</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"B4cB5^~/B*6W9_l;p=RG\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"P|E:6Y#Kb9c[/*.{Ks@E\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"hi)lp2.SLxqeJ`,7k:Q3\"><field name=\"TEXT\">Run</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\",N$/f`n2{5rSrbjzdTrX\"><field name=\"TEXT\">door_control/id_activate</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"%3jdJ*$4L7{%KhA^ChNU\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"kim-YXV*tBW]phschL^v\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"@kx%Pt%J0]qZsGmo)c:Q\"><field name=\"TEXT\">Door control identification start</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"ND9bgp+jJE!OR5+ZoG!N\"><field name=\"TEXT\">door_control/notification</field></block></value><next><block type=\"yolobit_music_pitch\" id=\"S6*q^v;J)R~Y$/=^3+K0\"><value name=\"pitch\"><shadow type=\"math_number\" id=\"bb:Ra}#);)%cugHY*Wx|\"><field name=\"NUM\">440</field></shadow></value><value name=\"duration\"><shadow type=\"math_number\" id=\")RUzK(N}p+IR:z|b3^QG\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\")z{+x%TDGPZ:55zaYYuC\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"[0#e.Se=*=9^OzVZ`@9n\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"4]=_vF)7U6z6Qkw]#,,(\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO3\"><block type=\"controls_if\" id=\".?X!?F+#5V:JeJYaD7oj\"><value name=\"IF0\"><block type=\"procedures_callreturn\" id=\"LHH*!X*z`:@cfgKd{tjg\"><mutation name=\"is_timer3_elapsed\"></mutation></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"~3`ZsmO,p3I-VF$QP^Vw\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"ql):z.3~ZY.gOxNs@^ky\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\".iJ*0O/9^y0xF%U;VWae\"><field name=\"VAR\" id=\"^[Rb(5$Zs?Apl5Am]GZX\">door_control_id_result</field></block></value><value name=\"B\"><block type=\"text\" id=\"E;1tQbTzNlIhu65xp1dR\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"#eJ[4UiPFy[zeSX0PK);\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\";3`jkG@_j+jPMUZ$ls6E\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"0W8;C7ooE7W?pM)JQ_w1\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"faZFUHIDZZ-k;N%[Nw,7\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"v?0BFHG}Tr%DGJ.:0ZvR\"><field name=\"TEXT\">Door control identification failure</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"8;3s,p!Zusb9l)|[Y-Wm\"><field name=\"TEXT\">door_control/notification</field></block></value><next><block type=\"yolobit_music_pitch\" id=\"DHv?yB,oFn?tD?:+gdWh\"><value name=\"pitch\"><shadow type=\"math_number\" id=\"+L$KfJ((!v=wJVpNTLt*\"><field name=\"NUM\">220</field></shadow></value><value name=\"duration\"><shadow type=\"math_number\" id=\"(nQ+ri8Q6sEv34u.+rb~\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"::;oA8u=B71N;``-+jfy\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"A[H2.W,8+)c[HbJDNBwN\"><field name=\"NUM\">2</field></block></value><next><block type=\"variables_set\" id=\"!o${cj@55W-j;B)(5t=G\"><field name=\"VAR\" id=\"^[Rb(5$Zs?Apl5Am]GZX\">door_control_id_result</field><value name=\"VALUE\"><block type=\"text\" id=\"#TWWV_SPcU;:u9Y[3/9m\"><field name=\"TEXT\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"gQx8@rR0tVbV9$P[{i7;\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"J+JME3FL^]A1ljtvjp|b\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"dawv3S~VW:BM~xyDDU#;\"><field name=\"TEXT\">Door control identification success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"9;DrL3|43Vdwgv=Cd.Mn\"><field name=\"TEXT\">door_control/notification</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Z9oXK[O7i7VTdj/@9q~*\"><mutation name=\"servo_control\"><arg name=\"L_cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"%_p4F:Vx-/Us*r+SQ@-=\"><field name=\"TEXT\">1</field></block></value><next><block type=\"yolobit_music_pitch\" id=\";:hQ0u/VL-H6*M,ry5N,\"><value name=\"pitch\"><shadow type=\"math_number\" id=\"jc@Dw,*Z6tR6f+kBvD*;\"><field name=\"NUM\">880</field></shadow></value><value name=\"duration\"><shadow type=\"math_number\" id=\"hz]uXc,k%/vYj9,]s)[G\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></statement></block></statement><value name=\"IF4\"><block type=\"logic_compare\" id=\"^Dy%*?Y,[)0.un^o]):X\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"o#.3(u{[(gNodcdh!jka\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"us~4xb4GAdkuxTfr~J_*\"><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO4\"><block type=\"controls_if\" id=\"r``dp(ByCs)/6nL%wT#9\"><value name=\"IF0\"><block type=\"logic_negate\" id=\"nXYg7$NNNbP-p6E,9+j3\"><value name=\"BOOL\"><block type=\"aiot_ultrasonic_checkdistance\" id=\"s-=K4Y7JFYTBB2%{1:/S\"><field name=\"TYPE\">CM</field><value name=\"DISTANCE\"><shadow type=\"math_number\" id=\"O?rX[Cl*`Y%@E`[+t3(3\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"L~QX+G~#h(},;Xw!H|kb\"><field name=\"VAR\" id=\"h/%-a];MJL4h:Zc#ES)b\">C_ultrasonic_distance_threshold_cm</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Gap/Ls/DS(qUr3Qmkh((\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"rB=OS^QTp97WCCMSHDh]\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\";vwyNGxOF{!Y!psHZ+[h\"><mutation name=\"servo_control\"><arg name=\"L_cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\":~mdpUx$m*i|8An4^`[t\"><field name=\"TEXT\">0</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"?-+`roqGS1d}cq?1o]N5\"><mutation name=\"door_control_state_machine_init\"></mutation><next><block type=\"text_print\" id=\"!K(d2KeApHE%fGm=/_8?\"><value name=\"TEXT\"><shadow type=\"text\" id=\"%@)*TPlu`r7Cwl^RD5yl\"><field name=\"TEXT\">Door control state machine error, reset state machine...</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"1STIAI.?aiUVeWU2lA:B\" x=\"1087\" y=\"-338\"><field name=\"NAME\">read_input_sensor</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"W#5K@MCzf,)VBW{f~l,}\"><field name=\"VAR\" id=\"CyUlGfyW7`T{UAS#nwxE\">pir_state</field><value name=\"VALUE\"><block type=\"aiot_detect_motion\" id=\"`L:o0Qba9S,Qv+xZM5%h\"><field name=\"NAME\">pin0</field></block></value><next><block type=\"aiot_dht_measure\" id=\":x`#pT@k5U40QIv}uKsc\"><next><block type=\"variables_set\" id=\"me*73TZ6ucQ!.ZWCCc$J\"><field name=\"VAR\" id=\".8EWoxfeka[$sj0.%zH$\">air_temp_state</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"J*JNa:=TX-WV!2U2I`_D\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"variables_set\" id=\"S;e?tt,vGjxk6_tTB;H6\"><field name=\"VAR\" id=\"Hg[4$2P8VVPShv/qTL?A\">air_humid_state</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"ZeA`cb_;aq;%mO+o*K5z\"><field name=\"DATA\">HUMID</field></block></value><next><block type=\"variables_set\" id=\"Q3_:zDCN}}O1J,^I.unz\"><field name=\"VAR\" id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</field><value name=\"VALUE\"><block type=\"aiot_soil_sensor\" id=\"n0!2$.v?0WF4)gm@1_q9\"><field name=\"NAME\">pin1</field></block></value><next><block type=\"variables_set\" id=\"%xw1CVSAV-:aS)(=PvTr\"><field name=\"VAR\" id=\"F@{Z/ns6Jgr=-Ooz/1#;\">ultrasound_state</field><value name=\"VALUE\"><block type=\"aiot_ultrasonic_checkdistance\" id=\"S}Bm-q,NZluy_kTq]+$U\"><field name=\"TYPE\">CM</field><value name=\"DISTANCE\"><shadow type=\"math_number\" id=\".V}A8:y|XPagB!@xfL_l\"><field name=\"NUM\">50</field></shadow></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"mZj3X~@S~tg)}GV(}G-`\"><value name=\"string\"><shadow type=\"text\" id=\"s_UI`vi;WSUzLH$rdI[;\"><field name=\"TEXT\">Input sensor read...</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"79[]{^XZMR-HJ.h@#Qvy\" x=\"237\" y=\"-263\"><field name=\"NAME\">ntp_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"set_time\" id=\"![O3RY0W=J3s4puE;~bJ\"><field name=\"GMT\">+7</field><next><block type=\"text_print\" id=\"1.o?$dn7EA5X9H{G*XsI\"><value name=\"TEXT\"><shadow type=\"text\" id=\"Y28a)h6%1#[h]dfO^`J=\"><field name=\"TEXT\">NTP time updated...</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"-88\" y=\"-238\"><statement name=\"ONSTART\"><block type=\"procedures_callnoreturn\" id=\"Q^H7o#_;nuN#er(^ZpHR\"><mutation name=\"startup_procedure\"></mutation></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_events_run\" id=\"r-50Yf3?19R8fl|Ri%+1\"><next><block type=\"yolobit_basic_sleep\" id=\"kXq;tk2f;U/Ou3eUElrU\"><value name=\"duration\"><shadow type=\"math_number\" id=\"];{@=c2}T8Mu,$^{usZL\"><field name=\"NUM\">50</field></shadow></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"dCDZWK5px^@[ly}No(y4\" x=\"237\" y=\"-138\"><field name=\"NAME\">init_input</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"aiot_ultrasonic_create\" id=\"?tof*6!Y![q8%mhcuoPN\"><field name=\"TRG\">pin3</field><field name=\"ECH\">pin6</field><next><block type=\"procedures_callnoreturn\" id=\"P`XRsedKd=eCqz}UB0QM\"><mutation name=\"read_input_sensor\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"/m|@[O8/!gdGeo~Ni[Dr\"><mutation name=\"send_sensor_data\"></mutation><next><block type=\"text_print\" id=\"a2n68!#e}g1|w!F@RlIW\"><value name=\"TEXT\"><shadow type=\"text\" id=\"8kwyk;u4hPHGwNt:rlx[\"><field name=\"TEXT\">Input devices initialized...</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"MKFnKqNc3!%5e5a7il_C\" x=\"-88\" y=\"-62\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"Cvb0+Nm8JvM^iG)f.@b:\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"yolobit_mqtt_check_message\" id=\"XOK|R+S!hShNI74STFdu\"></block></statement></block><block type=\"procedures_defnoreturn\" id=\"Hn)E4C+D@/8`lop/hs!C\" x=\"1912\" y=\"-162\"><mutation><arg name=\"L_cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">fan_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"fBCC3871ntZW:_Xz|XVw\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\")/1oCY?C.)-ibQc:h^y9\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"x(^4MWSx9K^a_vh67p@(\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_tonum\" id=\"w0{:GTqMwJqoUR^vb=ar\"><value name=\"A\"><block type=\"variables_get\" id=\"%`U$Xr0N@ji$I9FVryCh\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"nZWE@?c,VWI=G/-P:pAP\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"ut]1N%}ym;f(}RMSQc,X\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"math_tonum\" id=\"0v6f*U0zFo~;=iM~`i)c\"><value name=\"A\"><block type=\"variables_get\" id=\"ox,9Gln._b;Cm3A!NVe7\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"4;f)Gq+gx0[Ra!f8E1%~\"><field name=\"NUM\">100</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"aT4u?JU[A4t+u0A${oS{\"><field name=\"VAR\" id=\"O4aX%.yS//bU-PG9y,YF\">fan_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"eKrOR{[yq+@V1J9IwSQ/\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><next><block type=\"aiot_minifan\" id=\":};Ez~RB*XxV:#oqBThl\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"1HSnkTSQ5lI-TMBZYB._\"><field name=\"NUM\">70</field></shadow><block type=\"math_tonum\" id=\"[*rwYHK6s!_5`g+y_@8O\"><value name=\"A\"><block type=\"variables_get\" id=\"[fc[7_),1::a~7Fx#f-1\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value></block></value><next><block type=\"aiot_minifan\" id=\"%l9~s;l(Ja0=TBd@U0[d\"><field name=\"NAME\">pin15</field><value name=\"percent\"><shadow type=\"math_number\" id=\"C7PJ+_0=6+L?H$()+!c|\"><field name=\"NUM\">70</field></shadow><block type=\"math_tonum\" id=\"KnokdNSS!LJO~u@?bu]3\"><value name=\"A\"><block type=\"variables_get\" id=\"L*,OQ{%f21NryzDS[}sx\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"6h^sc^aR}.Col5Y1k_S,\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"q;jjxDgCq)w2`^OwC(j(\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"LZNK7,B%Z(afAD^jeV0j\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\":6NGzuN;AX!9*k[e(wU`\"><field name=\"TEXT\">output/fan/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"#90M0|HVjZ_xB,5}jzgI\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"^eJ3eWMHnbsbQB(y=tQI\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"peU;4h-Z])ho6pwO.xzr\"><field name=\"TEXT\">Fan command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"N5ryo~1],`n%5uy*Qu^1\"><field name=\"TEXT\">output/fan/result</field></block></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"5*enSC*0AnNv{=O$OZ|O\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"?:)x`HamNNw%4FQHzHON\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"B]?qaB#=ktL@-Rn$8B~!\"><field name=\"TEXT\">Fan unknown command</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"#hHkD8Uu^^,dCm5K$z7I\"><field name=\"TEXT\">output/fan/result</field></block></value></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"2X:^iWhL!4#)Fc_5O++d\" x=\"1087\" y=\"-62\"><field name=\"NAME\">send_sensor_data</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"procedures_callnoreturn\" id=\"yp*EEc0;%;C8.[oV=$eR\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"e8,5ZKMJtAK$`:]ZuUuw\"><field name=\"VAR\" id=\"Z/=T~w$6!x)?sI1h{/pG\">C_air_sensor_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"k2;SQ8!W2Z)T+agV$3Vm\"><field name=\"VAR\" id=\".8EWoxfeka[$sj0.%zH$\">air_temp_state</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\",86v0}%x4?;Dft1}BvuO\"><field name=\"TEXT\">sensor/air_temp</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"/t-;U5+L=SO_:M2,cyu$\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"Fy#IBavxy{Vi::=48BBo\"><field name=\"VAR\" id=\"Z/=T~w$6!x)?sI1h{/pG\">C_air_sensor_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"#{Bp`j)l5Ih``;,]LSqI\"><field name=\"VAR\" id=\"Hg[4$2P8VVPShv/qTL?A\">air_humid_state</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"Gi6_GH/ZB+)sG{S|17|)\"><field name=\"TEXT\">sensor/air_humid</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"@;R]c8jg))c4Lh{$^e})\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"|-@+jr*/ONx^22D+!3#{\"><field name=\"VAR\" id=\"]+lj6Jhm(U87+p+IzPUh\">C_soil_sensor_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"jPzM@I{C9Z=m1eG1(JN=\"><field name=\"VAR\" id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"?)xHaxCLu13%K+44Qc/p\"><field name=\"TEXT\">sensor/soil_humid</field></block></value><next><block type=\"xbot_serial_write_string\" id=\"CiY+Dx^L:mSGb+zgGdOs\"><value name=\"string\"><shadow type=\"text\" id=\"otY;h%.RVJk|}y9gbCob\"><field name=\"TEXT\">Sensor data sent...</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"`#nwsv|O2gj60!`L!(|/\" x=\"-88\" y=\"38\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"S9H5$EJqW,AQC@nPVx|q\"><field name=\"NUM\">10</field></shadow></value><statement name=\"ACTION\"><block type=\"procedures_callnoreturn\" id=\"IIc0?uf{+;XQ%6tq?Sc_\"><mutation name=\"read_input_sensor\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"scVD%bf!7dcyWT|CAS,P\"><mutation name=\"send_sensor_data\"></mutation></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\":D3^jjk?s{n302By!esG\" x=\"237\" y=\"37\"><field name=\"NAME\">init_output</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"aiot_relay\" id=\"y+uYTS6VWSE/aMfW4k.%\"><field name=\"state\">0</field><field name=\"NAME\">pin2</field><next><block type=\"variables_set\" id=\"d_Lg|{,dC;R2zc2$!]}d\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"0xG?Izq`UIf/h:EU-oQE\"><field name=\"NUM\">0</field></block></value><next><block type=\"aiot_minifan\" id=\"6tLwH[L$w~u2tU`ng5;P\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"=8|vb(biA#:E}anakI$o\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_minifan\" id=\"Lu^LTny6)Rjy:R)f?n/a\"><field name=\"NAME\">pin15</field><value name=\"percent\"><shadow type=\"math_number\" id=\"$`5}xYLW.#0+vD_Ra*hK\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"]c6+p[j=WrwVgZOdLmCy\"><field name=\"VAR\" id=\"O4aX%.yS//bU-PG9y,YF\">fan_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"Pw:O}3e^#roBO$S=bhLO\"><field name=\"NUM\">0</field></block></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"j,uxKLCTSQ!*F8R6hM=?\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"/MO=]i9M)=dD_xbASTJv\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"$SYa%vL8pm3~s8k$n?]d\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"1rrU+kVeI~6!#t_nsO*8\"><field name=\"NUM\">0</field></block></value><next><block type=\"aiot_led_tiny_set_all\" id=\"?5}@2#8O7$)o=4cIm4%,\"><field name=\"port\">pin16</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"kr!`~mkCDIgvaL_r0D-}\"><field name=\"COLOUR\">#000000</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"p!s[[2UM_{;e/+3vh)6c\"><field name=\"port\">pin12</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"$=CCO5rw*k}(.w*C=unn\"><field name=\"COLOUR\">#000000</field></shadow></value><next><block type=\"variables_set\" id=\"8lyFu+];VRK_EF9UR(p!\"><field name=\"VAR\" id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</field><value name=\"VALUE\"><block type=\"text_join\" id=\"^lKc_?,*]-}~tkvHQDK=\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"(f[5yTgf~vH^e_pg]^sS\"><field name=\"TEXT\">000</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\",+BG.d5Wa8L,#kUy0z:g\"><field name=\"TEXT\">000</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"yG,Zk5@Q,d?}tjYmU}gF\"><field name=\"TEXT\">000</field></block></value></block></value><next><block type=\"aiot_dual_usb\" id=\"/9xGJ%yg=TP/)],{h}u%\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"kqRNKEIYjM0J;IRAt{H9\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_dual_usb\" id=\")8jGzrNH_m^p`6`q)B`R\"><field name=\"NAME\">pin13</field><value name=\"percent\"><shadow type=\"math_number\" id=\"Y|%8`UhRJh;c3yCjIik+\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"F5joZ8?X:I:?iU5+XB6a\"><field name=\"VAR\" id=\"#(M%9;*TlClci?@B6g[L\">pump_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"it2X4ux(n8}X7;M@@,8I\"><field name=\"NUM\">0</field></block></value><next><block type=\"text_print\" id=\"MrTA6N_pHG6KzQDi5F?y\"><value name=\"TEXT\"><shadow type=\"text\" id=\";Eg.;UofCH1`^$woRz@x\"><field name=\"TEXT\">Output devices initialized...</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"IdOJ3(xco+;[!idd@Q]^\" x=\"-88\" y=\"162\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"caLmFfj}BoH1j4A$l[H8\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"procedures_callnoreturn\" id=\"}Crf+Hoo%~[wPgv`..p.\"><mutation name=\"state_machines_update\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"!jmdq7Tgs?zh85bLJ@e_\"><mutation name=\"state_machines_action\"></mutation></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"AO{rv,u7j^7W)}3fL2y.\" x=\"1087\" y=\"337\"><field name=\"NAME\">state_machines_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"procedures_callnoreturn\" id=\"x[$agCWMIe;zfLz}F`u3\"><mutation name=\"plan_watering_state_machine_init\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"@.tQ/bUCVH8q_+vtY+fI\"><mutation name=\"light_control_state_machine_init\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"FR:!1N}{e?+}GZ9^0C6O\"><mutation name=\"door_control_state_machine_init\"></mutation></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"^=8e$:KS.ox.UvROk!m6\" x=\"1912\" y=\"388\"><mutation><arg name=\"L_cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">relay_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\":akZct(Yp/G??.[QZ6pF\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"(%g,Z5c%$9^N[1x*f611\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"XP#cxkf2yN%+v`l%J`]Y\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\".ar[+rY{l(#|LBV=w%2U\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"GdN+SDR|?aQSHVW15jYk\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"BuYpE36RodFhOPgYwt4Q\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><next><block type=\"aiot_relay\" id=\"[VFa7,}Aq|F6nI|$:v%G\"><field name=\"state\">0</field><field name=\"NAME\">pin2</field><next><block type=\"procedures_callnoreturn\" id=\"Y{FSTH5}A2yXdvk^~cj.\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"IsdCz]:`z2.[xrR^`e_3\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"[0W2+a3Z;S#63@2sTs=a\"><field name=\"TEXT\">0</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"H+Q+Gc|f]42L4d95nQjq\"><field name=\"TEXT\">output/relay/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"R1*:$5a%S{Uy|lQ7Puj%\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"_4G-]dfZ6%;{d..]oJ@6\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"rD`;Ksg=.ufa6#zuF3mC\"><field name=\"TEXT\">Relay command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"KS154+@w/eh^6#w:N:C=\"><field name=\"TEXT\">output/relay/result</field></block></value></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"bOFLS~If8t7BVo(1xGVH\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"HD2!o#KgT$9TlxP^Sg+P\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"nRt3A8}Ux2C},h_Z-b~?\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"5[joE51LHEc%ku]%9wjC\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"=hO#w^FC@AUkHW[1P$e8\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><next><block type=\"aiot_relay\" id=\"!]t/b]VD!(A9=.Qpl#M;\"><field name=\"state\">1</field><field name=\"NAME\">pin2</field><next><block type=\"procedures_callnoreturn\" id=\"XZ~}$VWkMUt2eDCnGO+#\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"Ja/H`gR@)a9|S-75eSz%\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"#%d+7EM(slx8}%8!912G\"><field name=\"TEXT\">1</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"z?]1=rve%o;34S7/X4id\"><field name=\"TEXT\">output/relay/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"N0A9rmH:M1?eiXtJJ;1+\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"V[hAY!,QwrCsh*)j7.;A\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"MRxgk*4+B1Rr(ufz.V3L\"><field name=\"TEXT\">Relay command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"Gc=6XOB72}2LxB9.-K3m\"><field name=\"TEXT\">output/relay/result</field></block></value></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"lPAy_7Zzp^T,=p|l[U%n\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"q_ZY#_=hmmhvZ?lA@2xs\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"MFPY!B13tU5VE`onuse,\"><field name=\"TEXT\">Relay unknown command</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"ZE9AJip?2Q7*6A?HUgxN\"><field name=\"TEXT\">output/relay/result</field></block></value></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"%}T8@!-h=f(|tvGy2~-:\" x=\"1087\" y=\"487\"><field name=\"NAME\">state_machines_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"procedures_callnoreturn\" id=\"F^`MNU%cX8kV0}g04IZ:\"><mutation name=\"plan_watering_state_machine_update\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"R6kgS;5)OQD5fh];WC2_\"><mutation name=\"light_control_state_machine_update\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"9VY_=d)yT~?xuToCLJ/|\"><mutation name=\"door_control_state_machine_update\"></mutation></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"f{_HqeOi{,mblRG@dEg:\" x=\"38\" y=\"612\"><field name=\"NAME\">register_mqtt_receive_callback</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_on_receive_message\" id=\"=(hLGmUug1E4bfYyHktN\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"BRxmbTX2/;$/|H$r=v$u\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"W=uL3905-a^lWP/H.43U\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"gCz!XF{!~=:^LOsETef@\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"^NQ:(|~1I^ZV;x449QVf\"><field name=\"TEXT\">output/servo/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"x{ptTI8psPaAeu,5o[Ke\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"oNm!R$Gs9OM^qJ%l0~Vi\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"`{dSA:Eg{x*}(AXscSm-\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"[3t)dM*)|8V3I~*k*rh^\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"yu3iD@V!TfhzI*N?}Pb1\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"l$=4N|ii8;3r?]^o6dYj\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"_hljmYS~9|-ioH5v%QIy\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"k-X`U@lnWUNg]B#3I|C4\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"91,@bkwd^A8s.pM=uE(n\"><mutation name=\"check_mqtt_message_device_id_correct\"><arg name=\"L_list_return\"></arg><arg name=\"L_device_id\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"W-ELs!DPaJ+9Q)b8#o}|\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"8@*yx4D;g}tOT|T-We+7\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"+lk%WuIj(Y#f(KWdHX_i\"><field name=\"VAR\" id=\"PwU2kL$:p]fmp4xs3BW9\">C_servo_device_id</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"a^6Lz[{79Z$#kjQ;((!s\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"]aAi5`)?q2,mBY%34Fy^\"><field name=\"VAR\" id=\"uAiy_Gn;gI,#Y!SCk=48\">servo_cmd</field><value name=\"VALUE\"><block type=\"procedures_callreturn\" id=\"kVY/q:p/5yLdj[W|s4{G\"><mutation name=\"get_mqtt_mesage_content\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"9q,jkaxYAPM2TO-=8r9P\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value><next><block type=\"variables_set\" id=\"n(+``$qWlkSxu$6iRt2Y\"><field name=\"VAR\" id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"6ZRt0.lA$%s7:M`_aQAT\"><field name=\"NUM\">1</field></block></value></block></next></block></statement></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"7k|DF]d5XcAUazcB18VS\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"[$q?pt-)g-iocfR%xk7H\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"V2H8|=X~2bGcwe9M0wlm\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"*U~^ujQGZJ:,NrG6*rr3\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"k7+!aj]I5.8i8HJ2RMJ9\"><field name=\"TEXT\">output/fan/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"TB$=zK~ld!/6#^v2vl)V\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"f24k|{1gO^C$t?CDL)o6\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"@[^:%l.]])n,#3gURn=b\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"XOnM?;a%bs5YbQJ~sss4\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"UDvhPSNm!Om5)Eg8=V*A\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"9^4~_7.wH{DcC$yN6^c@\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"~O6jYt;u3*I=JXZi_*}@\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"(]cKU%2[nQS%8Sq=Q~03\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"ucXKadTgX-%yrlJ(0I#|\"><mutation name=\"check_mqtt_message_device_id_correct\"><arg name=\"L_list_return\"></arg><arg name=\"L_device_id\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"9:dM.tl.Lh!p]@*kluYh\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"^dL+`;zFWQQlTLK(4m-:\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"i6PIiG{l]^#[].n[J]N}\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"lHTPk8g^AEX6ozAZH#]K\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"(b]O+xzUf{LS`{/(8H)%\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field><value name=\"VALUE\"><block type=\"procedures_callreturn\" id=\"izvX+!jBrKH]q#$o42PH\"><mutation name=\"get_mqtt_mesage_content\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"@U|Tgwh0,dxjjp)]]x4N\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value><next><block type=\"controls_if\" id=\"{egg-/E@-#U[ZeVd/gC8\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"aj3CFgBlww30rQgwxI_,\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"ZW)1@ax8QY*S*8ZB)JtX\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_tonum\" id=\".K?h|fxhy?b5(`4`@wD[\"><value name=\"A\"><block type=\"variables_get\" id=\"YO+DGGuxh:X%j-B`!J!)\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"M38*Gz9}2)VIg}C(Vb`v\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"U#o3S;guCkw:[Th-fmJ%\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"math_tonum\" id=\"/heOGkC$%xjfH6s0#~oi\"><value name=\"A\"><block type=\"variables_get\" id=\"|4sPFb/pPCB;93-v$GGu\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"}+bZ1w{Co^]iyhLcHdNL\"><field name=\"NUM\">100</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"KW#{f=y;:X*7}8d-LYtT\"><field name=\"VAR\" id=\"O4aX%.yS//bU-PG9y,YF\">fan_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"Da3nu?tV~0t?JnAY-Fed\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field></block></value><next><block type=\"aiot_minifan\" id=\"ysn^K?gGYf}jN~+w!*@h\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"1HSnkTSQ5lI-TMBZYB._\"><field name=\"NUM\">70</field></shadow><block type=\"math_tonum\" id=\"}I3SheztOeNa.QqOD||w\"><value name=\"A\"><block type=\"variables_get\" id=\"vIXS5EQzoRl/R{Et1)cG\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field></block></value></block></value><next><block type=\"aiot_minifan\" id=\"J?xMi*U)Xgj7rxb2a_eD\"><field name=\"NAME\">pin15</field><value name=\"percent\"><shadow type=\"math_number\" id=\"C7PJ+_0=6+L?H$()+!c|\"><field name=\"NUM\">70</field></shadow><block type=\"math_tonum\" id=\"S=+hYfo`cXF!_mKx;_U[\"><value name=\"A\"><block type=\"variables_get\" id=\"8|Xe!Kksxw~YEqSu;eo4\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"P)0N4+dY-UtTsDdgENm-\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"s(%q;%|XvX^tAyAi9{ME\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"`{x:R:k:~#V^Vt%G39I,\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"M7zq8(PK:5x{;+5kvez7\"><field name=\"TEXT\">output/fan/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"n/|0U2Yz6P-DucPAUCQ*\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\";+28fKeD8m#VC!_H?B0s\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"(K{`-U|]aX%PCpt4nLY)\"><field name=\"TEXT\">Fan command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"!n]T((6tDi8eB(A.4ms_\"><field name=\"TEXT\">output/fan/result</field></block></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"kMWaNt9R6(}pM-/LgxAB\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"e=Z5vlfClqby1r{rv6,e\"><field name=\"VAR\" id=\"ej/g=,?~vjv`3Sw|lLj`\">C_fan_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"7XbTm?zeIe%]1-F9qS7~\"><field name=\"TEXT\">Fan unknown command</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"{Ke48$C5[V@I-7EY9c:%\"><field name=\"TEXT\">output/fan/result</field></block></value></block></statement></block></next></block></statement></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"Y*lEVmRzHW$w#)oOESDp\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"^G?Wp[u:pQ^_(EaL7|Xi\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"e|]~OiKX)b`h16=Z9cHC\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"{CC,fHfGw^NjKo(]zKG,\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"th8Kp!9fOE7{6gME?8j7\"><field name=\"TEXT\">output/relay/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"*xNI;HU9,p~*T,T.Yd({\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"pdE7!l5{oWhm9$}rLwIf\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"gp0QNkgt02}@sgT~:6]+\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"*JeXOxd(kE]vn%6psHV5\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"8)vIPEBgWJ-L~H*k9?!P\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"rdNfc:fN}]0{x:aY4Ha`\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"k?9nKdeMuONW8_t!{z6@\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"uL?T-M4x?deR,(]AoT7%\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"2mjIZ`hgL@?z{?N5EBV-\"><mutation name=\"check_mqtt_message_device_id_correct\"><arg name=\"L_list_return\"></arg><arg name=\"L_device_id\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"U:)l%{.+vGF+9X6M(kZ6\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"{tTkOL}_IiiWhoz(_O+w\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"S1zF1#Y.31rpD86`aCz7\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"jKmcrBg)z?!WEBT:aMSP\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"p=Gf#Dbo)s2DdO8bEIbz\"><field name=\"VAR\" id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</field><value name=\"VALUE\"><block type=\"procedures_callreturn\" id=\"L|b]j~{tM`RY+*c^-Lkn\"><mutation name=\"get_mqtt_mesage_content\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"gpw1f?!5k{L]L2~m?OI_\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value><next><block type=\"controls_if\" id=\"FSVZlIo!oNSrW9t~/,cS\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"-5d,9Yj;ctH}0#lWrD#/\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"C_rRo!j]9%p{_j=ODn:!\"><field name=\"VAR\" id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"*5],S}^?I=wD9{dIsdgB\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"*`z%}Mak?Z~gpLBU#U.o\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"?APgr`Y:n*!?Lbavz*XC\"><field name=\"VAR\" id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</field></block></value><next><block type=\"aiot_relay\" id=\"AaLV0YAg5=wxBo{|a,Bi\"><field name=\"state\">0</field><field name=\"NAME\">pin2</field><next><block type=\"procedures_callnoreturn\" id=\")RX4?yn-+u?4S*W~AlNQ\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"p^b,?5;O,:/;yVCY?xx~\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"z.2mLM2Lro)h9M+e|#p^\"><field name=\"TEXT\">0</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"PPsioJ*a7Xvc_4g]FWy)\"><field name=\"TEXT\">output/relay/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"63+T5sYqTnWTb+?VS3_H\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"#PvCe+j663?.873@hxe8\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"Np~C]G.aTC,Y!IqFg3of\"><field name=\"TEXT\">Relay command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"h1JkDwtHz1!b^q*xAnzO\"><field name=\"TEXT\">output/relay/result</field></block></value></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"aJmhfFTZNv[r_ilmg|Zz\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"tUQwoHiQAx$L[|m1a)F,\"><field name=\"VAR\" id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"2ty[{vM,B;Qz0o=9E.B`\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"UDqG{qhSD;V$umwBRz(N\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"ALf0c}Mx[LG6DkuL([dv\"><field name=\"VAR\" id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</field></block></value><next><block type=\"aiot_relay\" id=\"BOantMm8CKr8HD_.ym5)\"><field name=\"state\">1</field><field name=\"NAME\">pin2</field><next><block type=\"procedures_callnoreturn\" id=\".vyQYci(LypBt3+^IN!{\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"(3L#;eL!ft*~%/SP~P{n\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"`CKPx6CH4`6*k}hZ#9@C\"><field name=\"TEXT\">1</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"t:pc{40.a;|YK_`BnvF3\"><field name=\"TEXT\">output/relay/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"_HEptM4SLZ/:G2u;%Ou_\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"1:?d,K8JD,;-7dMDCMHD\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"8Mp9.5qGM,ndl;=qD]O*\"><field name=\"TEXT\">Relay command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"aqrs;f8xBVufWLRJw95(\"><field name=\"TEXT\">output/relay/result</field></block></value></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"[G]_^Pl6|YP2H@VRpGY)\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"-R[#nU=1x,@vZ@zi+pwC\"><field name=\"VAR\" id=\"TwuGS+3vjtz_.`L6|]0`\">C_relay_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"fqfBn63(.kXs]Y3V{~Oq\"><field name=\"TEXT\">Relay unknown command</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"sr61^j5GLQse:buXMMKt\"><field name=\"TEXT\">output/relay/result</field></block></value></block></statement></block></next></block></statement></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"(6Q@gnyIr.;UuqFVya/Z\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"=Xb{_H@dQ,B7vAre17rK\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"DHen_3VW^$,%sJ.ZG[pM\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Lwdjtj-0ArWyqp^L7:Ou\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"I6^(@|r?t*$eOV;{n/Fj\"><field name=\"TEXT\">output/rgb_led/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\")fcB*j0;)D$|_nE6h1lV\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"jREPduv7K~rd1eBh)j:1\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"55n8.)ek]@PXR*I_TI]$\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"IxR(l[e:cNPLz:Iy)9pD\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"XdP6M,?Zd|yM$8CwQbpP\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"KJG!z_fg:_goPfz#|}VF\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"m=!@]lRn11k:$Sa#/$#9\"><field name=\"VAR\" id=\"Xp#!3QGB=^uph_j3pIEC\">rgb_led_cmd</field><value name=\"VALUE\"><block type=\"procedures_callreturn\" id=\"[T4(I(o}e[G:)#Q)2Phf\"><mutation name=\"get_mqtt_mesage_content\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\".qY4{gZ]f$-X~MelqE5B\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value><next><block type=\"variables_set\" id=\"mpkT}ACgEO|oLO7bk{u!\"><field name=\"VAR\" id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"p-|BQU|`lPVShfy4{@9m\"><field name=\"NUM\">1</field></block></value></block></next></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"G._wEyp-9vt|NI#OM.t.\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"kXJju{.%E=.6:?wq1yPa\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"hDF9S88x6v1`,;fqHs;P\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\",zK_Yq/tf}*(G$p:Y,:t\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"nrotJOlp0J`3[{s|mN,y\"><field name=\"TEXT\">output/pump/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"G;@u:@ZZSr0meSILS1wB\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"$Ounh00=`(ZAvg?3!AXY\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"7rz5sYKWl7|n)ror}Q2)\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"(3$Ws^eS)p4dFs?/PuBC\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"$KJlel!!FX0n|sBbefLy\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"XqJzHHIn8_~[kS4H0zn{\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\" id=\"P=OKP+YxME7l}m*dW{3~\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"MJeH7w]^I.F-_MKmJ,)e\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"=mozT`U8W{s]wINY7s/k\"><mutation name=\"check_mqtt_message_device_id_correct\"><arg name=\"L_list_return\"></arg><arg name=\"L_device_id\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"J!lO6CG4O-O0p,QxbyMX\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"?M}V4tPDoCPY{5o@Pv*Q\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"=LL3^hdX-d4FZ((b5`Ev\"><field name=\"VAR\" id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"o6),Z4BE^v7+$ecVDuz_\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"nd^-{`j2.O}ZIO{%k.!)\"><field name=\"VAR\" id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</field><value name=\"VALUE\"><block type=\"procedures_callreturn\" id=\"x2Jp`^4I,~V@CFUj#qaJ\"><mutation name=\"get_mqtt_mesage_content\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"O-.[kK|uMsS#|^qo4[t)\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></statement></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"T`K7^AXhf7}@8ZD.dIKW\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"kXJju{.%E=.6:?wq1yPa\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"R|uFCPUBjw$Bp#Hr,X~@\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"=*iGy.?4.cZJ^NW;gJaL\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"DeJe$%b`n_sB,i;Apj`3\"><field name=\"TEXT\">light_control/presence</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"9P^dEEL{;qP{R!k,eExX\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"Eq3d6kD*$S9=34$%s`dl\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\".7IO+m9!SZn{%%b8:WU}\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\":t7:VLYDi,L3~dE?q(n$\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\":D]xV)?Uv+Xm[Y7Ruv!J\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"6VdfU3LWjl@AI2cZuG9%\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Qt({$y+|vB678]AX#{6m\"><field name=\"VAR\" id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</field><value name=\"VALUE\"><block type=\"procedures_callreturn\" id=\"P!Svh%jL?4t_FU^Vmd`+\"><mutation name=\"get_mqtt_mesage_content\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"go@v4BI8kcgl1zDdt[pO\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"4o$b8f+R=uSy6v?mtL!o\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"kXJju{.%E=.6:?wq1yPa\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"Lt|e5PE}pLo4VZuaaSl[\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"oeL#IeRmrY`E#COE8*X`\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"sckw/5~yRL)R5fF0zglZ\"><field name=\"TEXT\">door_control/id_result</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"#?y)#$zw8qq~y`{iV%t,\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"|-2FfsB2-8bbc@/@=fS.\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"u=N/we0n|,1D3piEfMcF\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"!q{?xJ.6OXSlSdd%rlKi\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"zfiW[lLx)=p|2mj2HP~v\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"d8+@MftKR[;PKX6iK{f6\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"f(SW@#8;g^f(;eNCT);/\"><field name=\"VAR\" id=\"^[Rb(5$Zs?Apl5Am]GZX\">door_control_id_result</field><value name=\"VALUE\"><block type=\"procedures_callreturn\" id=\"%Xb}APSyP6(?zd;e%YbE\"><mutation name=\"get_mqtt_mesage_content\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"=/$$9O[Zn*Mrj#R$DUSG\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"nzWvYTds06]#eSTDTtJQ\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"kXJju{.%E=.6:?wq1yPa\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"G5f=LO|68[H$U*jMLb8y\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Bxh/=wKUcKsCKleXo~z`\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"bx|h+skkz(xozf2UiEai\"><field name=\"TEXT\">report_current state/input</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"LEk88PV`nlr.uYd1{4V+\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"SrVgOJzfG3wV_q!e{(UM\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"4:7n4XERt)o]XjccTWMU\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"4qu-I@kHNRF}ThM|^ZB@\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"Ckw8_]Dlv2hq|mhf0FuI\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"a#b-X$B$eU_~h:|Le)lA\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"jPwu-D6Z!+(y8tQ!APi$\"><mutation name=\"send_sensor_data\"></mutation></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"p?gGPZXg,lN0/:.wW:!8\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"kXJju{.%E=.6:?wq1yPa\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"*Az[74Gi`[7ye{LB5ZJ]\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Gal]fy1/:^]l0lw7[lfe\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"kN+|6HHk{CTY*uYzWW+(\"><field name=\"TEXT\">report_current state/output</field></block></value></block></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"*A]QA*DN3kURP:BA.(G4\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"F)EyACKU-Xz7twN1`11G\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"procedures_callreturn\" id=\"]!/$%1j3{:|q5c-@p}GC\"><mutation name=\"check_mqtt_message_id_correct\"><arg name=\"L_list_return\"></arg></mutation><value name=\"ARG0\"><block type=\"procedures_callreturn\" id=\"*HKQ!XS*oWP%VBN|O33^\"><mutation name=\"split_mqtt_message\"><arg name=\"L_mqtt_message\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"8]Q*TPFg[^pI*cBba-qV\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\",LE.}LBK,Ty[;Wq(}5_+\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"3vMA|;5;~c.X*ye75!CZ\"><mutation name=\"send_output_state\"></mutation></block></statement></block></statement><next><block type=\"text_print\" id=\"l=!cR,_Au*D;35XN2pzn\"><value name=\"TEXT\"><shadow type=\"text\" id=\"/4)A{}u9qp,H7|F1ZJin\"><field name=\"TEXT\">MQTT callback registered...</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"*U^H[Hp?:o9MnSh55*rg\" x=\"1087\" y=\"637\"><field name=\"NAME\">state_machines_action</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"procedures_callnoreturn\" id=\"jWW#H%6$?y9]hZ85dx5@\"><mutation name=\"plan_watering_state_action\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"M,@?b_}Hfm?p}8j^ZZas\"><mutation name=\"light_control_state_action\"></mutation><next><block type=\"procedures_callnoreturn\" id=\",eyYX[2*Fbgjb8:H@gx4\"><mutation name=\"door_control_state_action\"></mutation></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"nmz~f.5J_^5aN0ud6W}r\" x=\"1087\" y=\"787\"><mutation><arg name=\"L_ms_from_now\" varid=\"0*)F984h9K%PP9kfdIA/\"></arg></mutation><field name=\"NAME\">set_timer1_from_now</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"62pk6|-;6g/Nf`}d+:Vu\"><field name=\"VAR\" id=\"o[qk9).N}x1eCgym9HA`\">timer1</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"-mQ7NP#_u@TkEIh#V~R4\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"D*p2a[{@upd]:`[,L*Tc\"><field name=\"NUM\">1</field></shadow><block type=\"yolobit_input_running_time\" id=\"2#bd7f0^|Q(Qz%G_V|`{\"></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"/YC!0dD]oo=_qbx$xZWa\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\".J6I[cdajt81hk;Csrh%\"><field name=\"VAR\" id=\"0*)F984h9K%PP9kfdIA/\">L_ms_from_now</field></block></value></block></value></block></statement></block><block type=\"procedures_defreturn\" id=\"cRP$f@1]S=aJaDN:LSm:\" x=\"1088\" y=\"888\"><field name=\"NAME\">is_timer1_elapsed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><value name=\"RETURN\"><block type=\"logic_compare\" id=\"tl7ma(Jncc8dH%Uw_`SG\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"yolobit_input_running_time\" id=\"l;,zmSmy+F*]eV!rHQ]X\"></block></value><value name=\"B\"><block type=\"variables_get\" id=\"#h7uonb)_a8HC:*va.v4\"><field name=\"VAR\" id=\"o[qk9).N}x1eCgym9HA`\">timer1</field></block></value></block></value></block><block type=\"procedures_defnoreturn\" id=\"=2YOqYOk(x8IN.oF0HLb\" x=\"1087\" y=\"1013\"><mutation><arg name=\"L_ms_from_now\" varid=\"0*)F984h9K%PP9kfdIA/\"></arg></mutation><field name=\"NAME\">set_timer2_from_now</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"6f2icwdM`*gol2pcRav]\"><field name=\"VAR\" id=\"bv_x?u)Zpx|{M:Jh#)SV\">timer2</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\",gG5@Y^)ZA{;7`5,@|n0\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"D*p2a[{@upd]:`[,L*Tc\"><field name=\"NUM\">1</field></shadow><block type=\"yolobit_input_running_time\" id=\"-o(uS^:qyFVr%/5bUJ~I\"></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"/YC!0dD]oo=_qbx$xZWa\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"|D^Hs[`CjTg%a-fCv,h,\"><field name=\"VAR\" id=\"0*)F984h9K%PP9kfdIA/\">L_ms_from_now</field></block></value></block></value></block></statement></block><block type=\"procedures_defreturn\" id=\"Y7Wega,[.aen|_e20L@h\" x=\"1087\" y=\"1113\"><field name=\"NAME\">is_timer2_elapsed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><value name=\"RETURN\"><block type=\"logic_compare\" id=\".P5Pl6f1e+KvQFM_n3@k\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"yolobit_input_running_time\" id=\"@*sgE9!0z%tbecQB5LY/\"></block></value><value name=\"B\"><block type=\"variables_get\" id=\"T6Dsx3bxo6;kKDhZAlmj\"><field name=\"VAR\" id=\"bv_x?u)Zpx|{M:Jh#)SV\">timer2</field></block></value></block></value></block><block type=\"procedures_defnoreturn\" id=\"E=bM.9;jeNSGUCW9/Ecw\" x=\"1913\" y=\"1188\"><mutation><arg name=\"L_cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">rgb_led_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\")`Ic]JbL;1liNx{Bqk=Q\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\":X_)7B7,:+W8b)cc2tf(\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text_length\" id=\"[)e{8)B;[fTK1Eh~E+,+\"><value name=\"VALUE\"><shadow type=\"text\" id=\"|H~47U3s),5j35XQ|Gjo\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"ti:mG0dy|GdK8.,?7;.Q\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"^mQo!*I49`jidth]v:@F\"><field name=\"NUM\">9</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"F!Q([Ua1dq*.,QEiZ]I4\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\".kabBtu[z$9~owLS5v.K\"><value name=\"A\"><block type=\"text_getSubstring\" id=\"{4}E:PhRJNmYQmM`hGdL\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"OH,=;-0k$Ek]h-JaXz9B\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"~p!SYyZu}aIDQnx5?`XH\"><field name=\"NUM\">1</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"A[K*@#nf8](COiagoky6\"><field name=\"NUM\">3</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\",~K@1A?JGKsu.uaYa6UR\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\";b56g7Ya7h$h^:[L{{,e\"><value name=\"A\"><block type=\"text_getSubstring\" id=\"{(}2Sq:#Mu6aq:AMc9A/\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"1#SD,a4DKr+p?R.w/1F7\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"`V9Dk,Dz,zEof:}1XqX$\"><field name=\"NUM\">4</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"cU{xesBkY?*0s]u:oew9\"><field name=\"NUM\">6</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"e[|vfJfoWn2=SYI5=3d:\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\"e`E@N6SdUP6R=[^=,/`G\"><value name=\"A\"><block type=\"text_getSubstring\" id=\")lfO((WJtG!r%l`Iv0bi\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"ZL5Tr)*W6~TUg.fb.sVN\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"?Cs1K:/}s!4yheQxmcf8\"><field name=\"NUM\">7</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"%Kz;bWWP;usba-y0r{}^\"><field name=\"NUM\">9</field></block></value></block></value></block></value><next><block type=\"controls_if\" id=\"pQ.X(yn3^otMA^t)=U(I\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\".yF,Z_^jg%@-#cEjLbkz\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"$Lb+m1IO9}GOJIZ0I$d/\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\";o!?I/lu)6Ltc/}5*bX3\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"/go)Fx-{kNik$J.|FYJ5\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"wO:)DcS+K.S2H61nxO0k\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"2Wqd@#?@1@?UFWQvqg,O\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\"zfl)6od9{QsZQvEPs4nM\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"AT1yG)zvwuxt{/-cEB1s\"><field name=\"NUM\">255</field></block></value></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"[yZu$j3=INrsL=FM@}-h\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"Hpl(IwK(D#~8kF[-TsPA\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\"Fzr6meX+[bPG:.6wZkWN\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Co}fV1609@z1j:HZzM;$\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"0`ly8qeOG{)Vkg%q4M?;\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"oj@gTHm-9Ks5Vx9xp0tr\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\"M;5uf-|6,C:ixE364aV7\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"uBO[1udIF[!???8q4;Qg\"><field name=\"NUM\">255</field></block></value></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"{n665(8c*j@|NN3HNe/F\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"@wkt8N?layYY;Kf=O)2M\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\"R$5HI?@J%!?2Q48o5)2(\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"+B2K,XR;MNl(VGG+u;ov\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"qKun,?P^yokBwxI=caU~\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\",B=Y*oI-fp]_cyXpP,n;\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Z#,d2-dR19IM,9x*wvU5\"><field name=\"NUM\">255</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"BBkRK@vGL;ct3e*RRc%A\"><field name=\"VAR\" id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"k|i`-.7tQ*iTKqsOR-rx\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><next><block type=\"aiot_led_tiny_set_all\" id=\"@5Y0I2}xXjei_Q8bgug#\"><field name=\"port\">pin16</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"-nl*.GRJg[%Zk]v8;.Uc\"><field name=\"COLOUR\">#ff0000</field></shadow><block type=\"yolobit_led_colour_rgb\" id=\"}D7KE,:kN5MBA=F/4ZXr\"><value name=\"RED\"><shadow type=\"math_number\" id=\"lY5LrX^nT;ziNI~f8A[t\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"8m0^{*av5P1ZN[87,{1~\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field></block></value><value name=\"GREEN\"><shadow type=\"math_number\" id=\"KClPd5T3483t${hvyB0U\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"hEK@C2jk#,BM.c{$M6SD\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field></block></value><value name=\"BLUE\"><shadow type=\"math_number\" id=\"}`Ntp?0v]c5?3S8Chasx\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"}#xw3g:T9s/aI51(`zah\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field></block></value></block></value><next><block type=\"aiot_led_tiny_set_all\" id=\"R*X.}KUh_Z~L/^18wGRf\"><field name=\"port\">pin12</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"-nl*.GRJg[%Zk]v8;.Uc\"><field name=\"COLOUR\">#ff0000</field></shadow><block type=\"yolobit_led_colour_rgb\" id=\"g:OMeq#id!FYQ8yg!e3.\"><value name=\"RED\"><shadow type=\"math_number\" id=\"lY5LrX^nT;ziNI~f8A[t\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"r9ACzcP)jeX`)h,zAIj?\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field></block></value><value name=\"GREEN\"><shadow type=\"math_number\" id=\"KClPd5T3483t${hvyB0U\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"QExkhiRT/Bf2[tp|Fo@?\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field></block></value><value name=\"BLUE\"><shadow type=\"math_number\" id=\"}`Ntp?0v]c5?3S8Chasx\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"0z15asz9VabU#Mr^L#9t\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"ebHOl_#E=%:`2619v,o;\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"3t9iwc1MxeGlu!j:7J``\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"variables_get\" id=\"eBniFfO!wk!szF#W2DuL\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"!NN,U*~ui^N,:RzoV6$E\"><field name=\"TEXT\">output/rgb_led/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"HbWc].%oJ!(C%).7AYY`\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"@/.c+-,#1Ee];1V5h;LO\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"d~YzYnynEOWmCqa`+mbo\"><field name=\"TEXT\">RGB LED command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"7Oc4C1r3{N7pyBJMu%HP\"><field name=\"TEXT\">output/rgb_led/result</field></block></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"i~mdW|j1ckHCDljfbZ_l\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"R;-uA]A{-wEYg[]Sc|+r\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"uK/`{x6MxPS8jN+%=~*4\"><field name=\"TEXT\">RGB LED unknown command</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"D*QP(8.|zk|W/_c?)ztm\"><field name=\"TEXT\">output/rgb_led/result</field></block></value></block></statement></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"9w7xpVgePvVTy2Vb=~R`\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"(cb1.Z]BbFL-gO7QE#LN\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"B-I%CKW#_of2,zmFFRbO\"><field name=\"TEXT\">RGB LED unknown command</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"TPQ3Sho+PRazBy}d%u14\"><field name=\"TEXT\">output/rgb_led/result</field></block></value></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"t[MTUO!gR$UaF*hGa8)%\" x=\"1087\" y=\"1237\"><mutation><arg name=\"L_ms_from_now\" varid=\"0*)F984h9K%PP9kfdIA/\"></arg></mutation><field name=\"NAME\">set_timer3_from_now</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"h@CSDff,^24;FWOtzHji\"><field name=\"VAR\" id=\"mhq6E`O%p|UZ3)(H}zqd\">timer3</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\".%lt6K$:Q)@u(HEO^Jb%\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"D*p2a[{@upd]:`[,L*Tc\"><field name=\"NUM\">1</field></shadow><block type=\"yolobit_input_running_time\" id=\"mI1)D8L?KDzi+JjcGi,b\"></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"/YC!0dD]oo=_qbx$xZWa\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"%)Qj[ff;HqBlf0Hu8Uq9\"><field name=\"VAR\" id=\"0*)F984h9K%PP9kfdIA/\">L_ms_from_now</field></block></value></block></value></block></statement></block><block type=\"procedures_defreturn\" id=\"h0YvV#%qMHZvU#Ml!@e.\" x=\"1087\" y=\"1413\"><field name=\"NAME\">is_timer3_elapsed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><value name=\"RETURN\"><block type=\"logic_compare\" id=\"(oq!q^t!Tm]g*DXd+mBv\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"yolobit_input_running_time\" id=\"[/d20M/c/a9Q_tTC4N$_\"></block></value><value name=\"B\"><block type=\"variables_get\" id=\"tr~W2*v=dig;__f%#l0!\"><field name=\"VAR\" id=\"mhq6E`O%p|UZ3)(H}zqd\">timer3</field></block></value></block></value></block><block type=\"procedures_defnoreturn\" id=\"p0:j47wTc)bLpWK-:;R7\" x=\"1913\" y=\"2163\"><mutation><arg name=\"L_cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">pump_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"!Bb-H8/Yy~p)G7WCd7[%\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"zBzC*ligCD?O1Km2?TsA\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Kj*79`-+MpVk!(ia1y6r\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"jb$dyq;6Uxb6uKx!R:3i\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"^w^A|G^aOOlBk{WTfaGw\"><field name=\"VAR\" id=\"#(M%9;*TlClci?@B6g[L\">pump_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"^^$TissOVB-7-_!v.T7G\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><next><block type=\"aiot_dual_usb\" id=\"8`URK(~CJS2XD`%EPo2}\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"R3~a9`(!(|v*lLS-#TR8\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_dual_usb\" id=\"~N#OrftSkk)N{]0c~JFn\"><field name=\"NAME\">pin13</field><value name=\"percent\"><shadow type=\"math_number\" id=\"QkI/9]R*}Q-9`0Ok$P^J\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"J4dqR?eY#MLjjQOzOz(q\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"jHY_.HP4oa!s(lZ~%|I#\"><field name=\"VAR\" id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"UJ)G=6y;di5@[mTH*D6(\"><field name=\"TEXT\">0</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"uGYrP`y-CpT`HSv^r(|{\"><field name=\"TEXT\">output/pump/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"A0gAQ{Bz,xV3.9@9VW2z\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"M8_K]}0:5~#mD=oEFEv?\"><field name=\"VAR\" id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"A+I6NqyZG{I*Q%GWKWoc\"><field name=\"TEXT\">Pump command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"=or0(h-_1ZMg|gh;opnb\"><field name=\"TEXT\">output/pump/result</field></block></value></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"eA-UaD~-~ZY3SOX$)_{.\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\":/v*^9|:`G+c[Y)en=ZD\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"X+@[IVo1_AT~Qz|Nc[P^\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"|vQ:~*bE0R(CB-kg=xaT\"><field name=\"VAR\" id=\"#(M%9;*TlClci?@B6g[L\">pump_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"?7:4znXe|Xu9|(qt|k*]\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">L_cmd_str</field></block></value><next><block type=\"aiot_dual_usb\" id=\":tOT.wZsCFQ(Y_h{yHqa\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"u=_%|glBc~%UkSEF$U{V\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"aiot_dual_usb\" id=\"SW]6I+Qu`L@n=[w1whQ.\"><field name=\"NAME\">pin13</field><value name=\"percent\"><shadow type=\"math_number\" id=\"yY@75?}mp}G00n}C*E4i\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"h)GL:-wW-DPM,mY%rizI\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"=!EA14$tv#lWhgQ`AERA\"><field name=\"VAR\" id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\",yM3IY5B}_HT==gO8`H9\"><field name=\"TEXT\">1</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"n#_Gd]t)/?,FM/myJF)f\"><field name=\"TEXT\">output/pump/state</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"B13cbc(9wQO#z6-NfvG#\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"6lG4:A3.2+3`sKOtjRG[\"><field name=\"VAR\" id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"aqcG{Y9_k*K9xti/,~$E\"><field name=\"TEXT\">Pump command success</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"e`}7ewJoz0K2Y(=:@S+T\"><field name=\"TEXT\">output/pump/result</field></block></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"nRNl@8cl4?JruY)yN6Sr\"><mutation name=\"publish_mqtt_with_id\"><arg name=\"L_device_id\"></arg><arg name=\"L_content\"></arg><arg name=\"L_topic\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"pV?sVDY,@2P-v]a[qsrl\"><field name=\"VAR\" id=\"bi5ocpI6-s3ocX[_7RUL\">C_pump_device_id</field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"bV8Ind$Evk;^X[]x3rOG\"><field name=\"TEXT\">Pump unknown command</field></block></value><value name=\"ARG2\"><block type=\"text\" id=\"Xhri#rj?Ebat,Ea-?Gg0\"><field name=\"TEXT\">output/pump/result</field></block></value></block></statement></block></statement></block></xml>","python":"from mqtt import *\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nimport music\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nfrom machine import RTC\nimport ntptime\nimport time\nfrom event_manager import *\nfrom aiot_hcsr04 import HCSR04\nfrom aiot_rgbled import RGBLed\n\n# Mô tả hàm này...\ndef split_mqtt_message(L_mqtt_message):\n  global L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  L_list_return = L_mqtt_message.strip().split(';')\n  return L_list_return\n\n# Mô tả hàm này...\ndef get_mqtt_mesage_content(L_mqtt_message):\n  global L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  L_list_return = L_mqtt_message.strip().split(';')\n  return L_list_return[-1]\n\n# Mô tả hàm này...\ndef check_mqtt_message_id_correct(L_list_return):\n  global L_mqtt_message, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  L_boolean = 0\n  if len(L_list_return) == 4:\n    if L_list_return[0] == C_house_id and L_list_return[1] == C_room_id:\n      L_boolean = 1\n  return L_boolean\n\n# Mô tả hàm này...\ndef init_variable():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  timer1 = 0\n  timer2 = 0\n  timer3 = 0\n  rgb_led_new_cmd = 0\n  servo_new_cmd = 0\n  door_control_id_result = '0'\n  fan_cmd = '0'\n  light_control_presence = '0'\n  pump_cmd = '0'\n  relay_cmd = '0'\n  rgb_led_cmd = '0'\n  servo_cmd = '0'\n  servo_cmd = '0'\n  L_cmd_str = '0'\n\n# Mô tả hàm này...\ndef check_mqtt_message_device_id_correct(L_list_return, L_device_id):\n  global L_mqtt_message, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  L_boolean = 0\n  if len(L_list_return) == 4:\n    if L_list_return[2] == L_device_id:\n      L_boolean = 1\n  return L_boolean\n\n# Mô tả hàm này...\ndef publish_mqtt_with_id(L_device_id, L_content, L_topic):\n  global L_mqtt_message, L_list_return, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  mqtt.publish((str(C_mqtt_topic_prefix) + str(L_topic)), (''.join([str(x) for x in [C_house_id, ';', C_room_id, ';', L_device_id, ';', L_content]])))\n\n# Mô tả hàm này...\ndef init_user_constant():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  C_mqtt_topic_prefix = 'test_bk231_dadn/'\n  C_soil_humid_lower_limit = 50\n  C_soil_humid_upper_limit = 70\n  C_ultrasonic_distance_threshold_cm = 75\n  C_house_id = 'test_house'\n  C_room_id = 'test_room'\n  C_servo_device_id = 'test_servo'\n  C_fan_device_id = 'test_fan'\n  C_relay_device_id = 'test_relay'\n  C_pump_device_id = 'test_pump'\n  C_rgb_led_device_id = 'test_rgb_led'\n  C_air_sensor_device_id = 'test_air_sensor'\n  C_soil_sensor_device_id = 'test_soil_sensor'\n  print('User constant set...')\n\n# Mô tả hàm này...\ndef send_output_state():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  publish_mqtt_with_id(C_pump_device_id, pump_state, 'output/pump/state')\n  publish_mqtt_with_id('', rgb_led_state, 'output/rgb_led/state')\n  publish_mqtt_with_id(C_fan_device_id, fan_state, 'output/fan/state')\n  publish_mqtt_with_id(C_relay_device_id, relay_state, 'output/relay/state')\n  publish_mqtt_with_id(C_servo_device_id, servo_state, 'output/servo/state')\n  print('Output state sent...', end =' ')\n\n# Mô tả hàm này...\ndef servo_control(L_cmd_str):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if L_cmd_str == '0':\n    servo_state = '0'\n    pin4.servo_write(0)\n    publish_mqtt_with_id(C_servo_device_id, '0', 'output/servo/state')\n    publish_mqtt_with_id(C_servo_device_id, 'Servo command success', 'output/servo/result')\n  elif L_cmd_str == '1':\n    servo_state = '1'\n    pin4.servo_write(90)\n    publish_mqtt_with_id(C_servo_device_id, '1', 'output/servo/state')\n    publish_mqtt_with_id(C_servo_device_id, 'Servo command success', 'output/servo/result')\n  else:\n    publish_mqtt_with_id(C_servo_device_id, 'Servo unknown command', 'output/servo/result')\n\n# Mô tả hàm này...\ndef plan_watering_state_machine_init():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  plant_watering_current_state = 0\n\n# Khởi tạo thiết bị và các kết nối - bao gồm MQTT và NTP\ndef startup_procedure():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  print('Starting...')\n  init_variable()\n  init_user_constant()\n  connect_wifi()\n  init_mqtt()\n  register_mqtt_receive_callback()\n  ntp_update()\n  init_input()\n  init_output()\n  state_machines_init()\n\n# Mô tả hàm này...\ndef light_control_state_machine_init():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  light_control_current_state = 0\n\n# Mô tả hàm này...\ndef plan_watering_state_action():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pass\n\n# Mô tả hàm này...\ndef door_control_state_machine_init():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  door_control_current_state = 0\n\n# Mô tả hàm này...\ndef connect_wifi():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  mqtt.connect_wifi('RMN11_Hotspot', '2_3_5_7_11_13')\n  print('Wi-Fi connected...')\n\n# Mô tả hàm này...\ndef light_control_state_action():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pass\n\n# Mô tả hàm này...\ndef plan_watering_state_machine_update():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if plant_watering_current_state != 0 and soil_humid_state > C_soil_humid_upper_limit:\n    plant_watering_current_state = 0\n    publish_mqtt_with_id('', 'Soil humidity upper limit reached', 'plant_watering/notification')\n  elif plant_watering_current_state == 0:\n    if soil_humid_state < C_soil_humid_lower_limit:\n      plant_watering_current_state = 1\n      publish_mqtt_with_id('', 'Soil is dry, need watering', 'plant_watering/notification')\n  elif plant_watering_current_state == 1:\n    if pump_cmd == '1':\n      pump_cmd = '0'\n      plant_watering_current_state = 2\n      set_timer1_from_now(30000)\n      publish_mqtt_with_id('', 'Watering activated', 'plant_watering/notification')\n  elif plant_watering_current_state == 2:\n    if is_timer1_elapsed():\n      plant_watering_current_state = 3\n      set_timer1_from_now(2000)\n      pump_control('1')\n  elif plant_watering_current_state == 3:\n    if is_timer1_elapsed():\n      plant_watering_current_state = 2\n      set_timer1_from_now(30000)\n      pump_control('0')\n  else:\n    plan_watering_state_machine_init()\n    print('Plan watering state machine error, reset state machine...')\n\n# Mô tả hàm này...\ndef door_control_state_action():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pass\n\n# Mô tả hàm này...\ndef init_mqtt():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  mqtt.connect_broker(server='broker.hivemq.com', port=1883, username='', password='')\n  print('MQTT broker connected...')\n\n# Mô tả hàm này...\ndef light_control_state_machine_update():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if rgb_led_new_cmd == 1:\n    rgb_led_new_cmd = 0\n    light_control_current_state = 3\n    publish_mqtt_with_id('', 'Change to manual mode', 'light_control/notification')\n    rgb_led_control(rgb_led_cmd)\n    set_timer2_from_now(600000)\n  elif light_control_current_state == 3:\n    if is_timer2_elapsed():\n      publish_mqtt_with_id('', 'Change to automatic mode', 'light_control/notification')\n      if rgb_led_state == '000000000':\n        light_control_current_state = 0\n      else:\n        light_control_current_state = 1\n        set_timer2_from_now(15000)\n  elif light_control_current_state == 0:\n    if pin0.read_digital()==1:\n      print('PIR detects motion...')\n      light_control_current_state = 1\n      set_timer2_from_now(15000)\n      rgb_led_control('255255255')\n  elif light_control_current_state == 1:\n    if is_timer2_elapsed():\n      if light_control_presence == '0':\n        light_control_current_state = 0\n        rgb_led_control('000000000')\n      else:\n        light_control_current_state = 2\n  elif light_control_current_state == 2:\n    if light_control_presence == '0':\n      light_control_current_state = 1\n      set_timer2_from_now(15000)\n  else:\n    light_control_state_machine_init()\n    print('Light control state machine error, reset state machine...')\n\n# Mô tả hàm này...\ndef door_control_state_machine_update():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if servo_new_cmd == 1:\n    servo_new_cmd = 0\n    door_control_current_state = 3\n    publish_mqtt_with_id('', 'Change to manual mode', 'door_control/notification')\n    servo_control(servo_cmd)\n    set_timer3_from_now(30000)\n  elif door_control_current_state == 3:\n    if is_timer3_elapsed():\n      publish_mqtt_with_id('', 'Change to automatic mode', 'door_control/notification')\n      if servo_state == '0':\n        door_control_current_state = 0\n      else:\n        door_control_current_state = 2\n  elif door_control_current_state == 0:\n    if aiot_ultrasonic.distance_cm() < C_ultrasonic_distance_threshold_cm:\n      print('Ultrasound detects near object...')\n      door_control_current_state = 1\n      set_timer3_from_now(15000)\n      publish_mqtt_with_id('', 'Run', 'door_control/id_activate')\n      publish_mqtt_with_id('', 'Door control identification start', 'door_control/notification')\n      music.pitch(440, 1000)\n  elif door_control_current_state == 1:\n    if is_timer3_elapsed():\n      if door_control_id_result == '0':\n        door_control_current_state = 0\n        publish_mqtt_with_id('', 'Door control identification failure', 'door_control/notification')\n        music.pitch(220, 1000)\n      else:\n        door_control_current_state = 2\n        door_control_id_result = '0'\n        publish_mqtt_with_id('', 'Door control identification success', 'door_control/notification')\n        servo_control('1')\n        music.pitch(880, 1000)\n  elif door_control_current_state == 2:\n    if not (aiot_ultrasonic.distance_cm() < C_ultrasonic_distance_threshold_cm):\n      door_control_current_state = 0\n      servo_control('0')\n  else:\n    door_control_state_machine_init()\n    print('Door control state machine error, reset state machine...')\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\n# Mô tả hàm này...\ndef read_input_sensor():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pir_state = pin0.read_digital()==1\n  aiot_dht20.read_dht20()\n  air_temp_state = aiot_dht20.dht20_temperature()\n  air_humid_state = aiot_dht20.dht20_humidity()\n  soil_humid_state = round(translate((pin1.read_analog()), 0, 4095, 0, 100))\n  ultrasound_state = aiot_ultrasonic.distance_cm() < 50\n  print('Input sensor read...', end =' ')\n\n# Mô tả hàm này...\ndef ntp_update():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  ntptime.settime()\n  (year, month, mday, week_of_year, hour, minute, second, milisecond) = RTC().datetime()\n  RTC().init((year, month, mday, week_of_year, hour+7, minute, second, milisecond))\n  print('NTP time updated...')\n\nevent_manager.reset()\n\n# Mô tả hàm này...\ndef init_input():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  aiot_ultrasonic = HCSR04(trigger_pin=pin3.pin, echo_pin=pin6.pin)\n  read_input_sensor()\n  send_sensor_data()\n  print('Input devices initialized...')\n\ndef on_event_timer_callback_M_K_F_n_K():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  mqtt.check_message()\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_M_K_F_n_K)\n\n# Mô tả hàm này...\ndef fan_control(L_cmd_str):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if (int(L_cmd_str)) >= 0 and (int(L_cmd_str)) <= 100:\n    fan_state = L_cmd_str\n    pin14.write_analog(round(translate((int(L_cmd_str)), 0, 100, 0, 1023)))\n    pin15.write_analog(round(translate((int(L_cmd_str)), 0, 100, 0, 1023)))\n    publish_mqtt_with_id(C_fan_device_id, L_cmd_str, 'output/fan/state')\n    publish_mqtt_with_id(C_fan_device_id, 'Fan command success', 'output/fan/result')\n  else:\n    publish_mqtt_with_id(C_fan_device_id, 'Fan unknown command', 'output/fan/result')\n\n# Mô tả hàm này...\ndef send_sensor_data():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  publish_mqtt_with_id(C_air_sensor_device_id, air_temp_state, 'sensor/air_temp')\n  publish_mqtt_with_id(C_air_sensor_device_id, air_humid_state, 'sensor/air_humid')\n  publish_mqtt_with_id(C_soil_sensor_device_id, soil_humid_state, 'sensor/soil_humid')\n  print('Sensor data sent...', end =' ')\n\ndef on_event_timer_callback_n_w_s_v_O():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  read_input_sensor()\n  send_sensor_data()\n\nevent_manager.add_timer_event(10000, on_event_timer_callback_n_w_s_v_O)\n\ntiny_rgb = RGBLed(pin12.pin, 4)\n\n# Mô tả hàm này...\ndef init_output():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pin2.write_digital(0)\n  relay_state = 0\n  pin14.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  pin15.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  fan_state = 0\n  pin4.servo_write(0)\n  servo_state = 0\n  tiny_rgb.show(0, hex_to_rgb('#000000'))\n  tiny_rgb.show(0, hex_to_rgb('#000000'))\n  rgb_led_state = ''.join([str(x2) for x2 in ['000', '000', '000']])\n  pin10.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  pin13.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  pump_state = 0\n  print('Output devices initialized...')\n\ndef on_event_timer_callback_I_d_O_J_x():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  state_machines_update()\n  state_machines_action()\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_I_d_O_J_x)\n\n# Mô tả hàm này...\ndef state_machines_init():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  plan_watering_state_machine_init()\n  light_control_state_machine_init()\n  door_control_state_machine_init()\n\n# Mô tả hàm này...\ndef relay_control(L_cmd_str):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if L_cmd_str == '0':\n    relay_state = L_cmd_str\n    pin2.write_digital(0)\n    publish_mqtt_with_id(C_relay_device_id, '0', 'output/relay/state')\n    publish_mqtt_with_id(C_relay_device_id, 'Relay command success', 'output/relay/result')\n  elif L_cmd_str == '1':\n    relay_state = L_cmd_str\n    pin2.write_digital(1)\n    publish_mqtt_with_id(C_relay_device_id, '1', 'output/relay/state')\n    publish_mqtt_with_id(C_relay_device_id, 'Relay command success', 'output/relay/result')\n  else:\n    publish_mqtt_with_id(C_relay_device_id, 'Relay unknown command', 'output/relay/result')\n\n# Mô tả hàm này...\ndef state_machines_update():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  plan_watering_state_machine_update()\n  light_control_state_machine_update()\n  door_control_state_machine_update()\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_servo_command__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    if check_mqtt_message_device_id_correct(split_mqtt_message(new_mqtt_content), C_servo_device_id) == 1:\n      servo_cmd = get_mqtt_mesage_content(new_mqtt_content)\n      servo_new_cmd = 1\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_fan_command__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    if check_mqtt_message_device_id_correct(split_mqtt_message(new_mqtt_content), C_fan_device_id) == 1:\n      fan_cmd = get_mqtt_mesage_content(new_mqtt_content)\n      if (int(fan_cmd)) >= 0 and (int(fan_cmd)) <= 100:\n        fan_state = fan_cmd\n        pin14.write_analog(round(translate((int(fan_cmd)), 0, 100, 0, 1023)))\n        pin15.write_analog(round(translate((int(fan_cmd)), 0, 100, 0, 1023)))\n        publish_mqtt_with_id(C_fan_device_id, fan_cmd, 'output/fan/state')\n        publish_mqtt_with_id(C_fan_device_id, 'Fan command success', 'output/fan/result')\n      else:\n        publish_mqtt_with_id(C_fan_device_id, 'Fan unknown command', 'output/fan/result')\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_relay_command__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    if check_mqtt_message_device_id_correct(split_mqtt_message(new_mqtt_content), C_relay_device_id) == 1:\n      relay_cmd = get_mqtt_mesage_content(new_mqtt_content)\n      if relay_cmd == '0':\n        relay_state = relay_cmd\n        pin2.write_digital(0)\n        publish_mqtt_with_id(C_relay_device_id, '0', 'output/relay/state')\n        publish_mqtt_with_id(C_relay_device_id, 'Relay command success', 'output/relay/result')\n      elif relay_cmd == '1':\n        relay_state = relay_cmd\n        pin2.write_digital(1)\n        publish_mqtt_with_id(C_relay_device_id, '1', 'output/relay/state')\n        publish_mqtt_with_id(C_relay_device_id, 'Relay command success', 'output/relay/result')\n      else:\n        publish_mqtt_with_id(C_relay_device_id, 'Relay unknown command', 'output/relay/result')\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_rgb_led_command__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    rgb_led_cmd = get_mqtt_mesage_content(new_mqtt_content)\n    rgb_led_new_cmd = 1\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_pump_command__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    if check_mqtt_message_device_id_correct(split_mqtt_message(new_mqtt_content), C_pump_device_id) == 1:\n      pump_cmd = get_mqtt_mesage_content(new_mqtt_content)\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____light_control_presence__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    light_control_presence = get_mqtt_mesage_content(new_mqtt_content)\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____door_control_id_result__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    door_control_id_result = get_mqtt_mesage_content(new_mqtt_content)\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____report_current_state_input__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    send_sensor_data()\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____report_current_state_output__(new_mqtt_content):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer2, timer3, C_soil_humid_lower_limit, pump_state, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, pump_cmd, air_humid_state, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, C_servo_device_id, relay_cmd, C_fan_device_id, C_relay_device_id, C_pump_device_id, C_rgb_led_device_id, C_air_sensor_device_id, C_soil_sensor_device_id\n  if check_mqtt_message_id_correct(split_mqtt_message(new_mqtt_content)) == 1:\n    send_output_state()\n\n# Mô tả hàm này...\ndef register_mqtt_receive_callback():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/servo/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_servo_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/fan/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_fan_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/relay/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_relay_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/rgb_led/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_rgb_led_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/pump/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_pump_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'light_control/presence'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____light_control_presence__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'door_control/id_result'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____door_control_id_result__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'report_current state/input'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____report_current_state_input__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'report_current state/output'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____report_current_state_output__)\n  print('MQTT callback registered...')\n\n# Mô tả hàm này...\ndef state_machines_action():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  plan_watering_state_action()\n  light_control_state_action()\n  door_control_state_action()\n\n# Mô tả hàm này...\ndef set_timer1_from_now(L_ms_from_now):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  timer1 = running_time() + L_ms_from_now\n\n# Mô tả hàm này...\ndef is_timer1_elapsed():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  return running_time() >= timer1\n\n# Mô tả hàm này...\ndef set_timer2_from_now(L_ms_from_now):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  timer2 = running_time() + L_ms_from_now\n\n# Mô tả hàm này...\ndef is_timer2_elapsed():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  return running_time() >= timer2\n\ndef colour_rgb(r, g, b):\n  r = round(min(100, max(0, r)) * 2.55)\n  g = round(min(100, max(0, g)) * 2.55)\n  b = round(min(100, max(0, b)) * 2.55)\n  return '#%02x%02x%02x' % (r, g, b)\n\n# Mô tả hàm này...\ndef rgb_led_control(L_cmd_str):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if len(L_cmd_str) == 9:\n    L_red_value = int((L_cmd_str[ : 3]))\n    L_green_value = int((L_cmd_str[3 : 6]))\n    L_blue_value = int((L_cmd_str[6 : 9]))\n    if L_red_value >= 0 and L_red_value <= 255 and L_green_value >= 0 and L_green_value <= 255 and L_blue_value >= 0 and L_blue_value <= 255:\n      rgb_led_state = L_cmd_str\n      tiny_rgb.show(0, hex_to_rgb((colour_rgb(L_red_value, L_green_value, L_blue_value))))\n      tiny_rgb.show(0, hex_to_rgb((colour_rgb(L_red_value, L_green_value, L_blue_value))))\n      publish_mqtt_with_id('', L_cmd_str, 'output/rgb_led/state')\n      publish_mqtt_with_id('', 'RGB LED command success', 'output/rgb_led/result')\n    else:\n      publish_mqtt_with_id('', 'RGB LED unknown command', 'output/rgb_led/result')\n  else:\n    publish_mqtt_with_id('', 'RGB LED unknown command', 'output/rgb_led/result')\n\n# Mô tả hàm này...\ndef set_timer3_from_now(L_ms_from_now):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  timer3 = running_time() + L_ms_from_now\n\n# Mô tả hàm này...\ndef is_timer3_elapsed():\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_cmd_str, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  return running_time() >= timer3\n\n# Mô tả hàm này...\ndef pump_control(L_cmd_str):\n  global L_mqtt_message, L_list_return, L_device_id, L_content, L_topic, L_ms_from_now, L_boolean, timer1, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, new_mqtt_content, timer2, timer3, C_soil_humid_lower_limit, pump_state, C_pump_device_id, servo_state, rgb_led_new_cmd, servo_new_cmd, fan_state, air_temp_state, C_air_sensor_device_id, relay_state, L_red_value, C_house_id, C_room_id, C_soil_humid_upper_limit, rgb_led_state, C_servo_device_id, pump_cmd, C_fan_device_id, air_humid_state, C_relay_device_id, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, C_soil_sensor_device_id, servo_cmd, L_blue_value, door_control_id_result, fan_cmd, ultrasound_state, rgb_led_cmd, relay_cmd, C_rgb_led_device_id, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if L_cmd_str == '0':\n    pump_state = L_cmd_str\n    pin10.write_analog(round(translate(0, 0, 100, 0, 1023)))\n    pin13.write_analog(round(translate(0, 0, 100, 0, 1023)))\n    publish_mqtt_with_id(C_pump_device_id, '0', 'output/pump/state')\n    publish_mqtt_with_id(C_pump_device_id, 'Pump command success', 'output/pump/result')\n  elif L_cmd_str == '1':\n    pump_state = L_cmd_str\n    pin10.write_analog(round(translate(100, 0, 100, 0, 1023)))\n    pin13.write_analog(round(translate(100, 0, 100, 0, 1023)))\n    publish_mqtt_with_id(C_pump_device_id, '1', 'output/pump/state')\n    publish_mqtt_with_id(C_pump_device_id, 'Pump command success', 'output/pump/result')\n  else:\n    publish_mqtt_with_id(C_pump_device_id, 'Pump unknown command', 'output/pump/result')\n\nif True:\n  startup_procedure()\n\nwhile True:\n  event_manager.run()\n  time.sleep_ms(50)\n","name":"YoloHome","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_ntp","src":"https://github.com/AITT-VN/yolobit_ntp","name":"NTP","description":"Mục mở rộng hỗ trợ đọc thời gian từ Internet qua giao thức NTP (Network Time Protocol)"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"}],"device":"yolobit"}