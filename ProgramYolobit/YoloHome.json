{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</variable><variable id=\"VK(hLz9@*o@270o.Qr4#\">speed_str</variable><variable id=\"0*)F984h9K%PP9kfdIA/\">ms_from_now</variable><variable id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</variable><variable id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</variable><variable id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</variable><variable id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</variable><variable id=\"CyUlGfyW7`T{UAS#nwxE\">pir_state</variable><variable id=\"o[qk9).N}x1eCgym9HA`\">timer1</variable><variable id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</variable><variable id=\"bv_x?u)Zpx|{M:Jh#)SV\">timer2</variable><variable id=\"0f0Fz7d^v{wr#s2xA1I8\">C_soil_humid_lower_limit</variable><variable id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</variable><variable id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</variable><variable id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</variable><variable id=\".8EWoxfeka[$sj0.%zH$\">air_temp_state</variable><variable id=\"O4aX%.yS//bU-PG9y,YF\">fan_state</variable><variable id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</variable><variable id=\"uAiy_Gn;gI,#Y!SCk=48\">servo_cmd</variable><variable id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</variable><variable id=\"mhq6E`O%p|UZ3)(H}zqd\">timer3</variable><variable id=\"#(M%9;*TlClci?@B6g[L\">pump_state</variable><variable id=\"9TI]d6;zbkczKC#EvuR`\">C_soil_humid_upper_limit</variable><variable id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</variable><variable id=\"Hg[4$2P8VVPShv/qTL?A\">air_humid_state</variable><variable id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</variable><variable id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</variable><variable id=\"h/%-a];MJL4h:Zc#ES)b\">C_ultrasonic_distance_threshold_cm</variable><variable id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</variable><variable id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</variable><variable id=\"^[Rb(5$Zs?Apl5Am]GZX\">door_control_id_result</variable><variable id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</variable><variable id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</variable><variable id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</variable><variable id=\"Xp#!3QGB=^uph_j3pIEC\">rgb_led_cmd</variable><variable id=\"F@{Z/ns6Jgr=-Ooz/1#;\">ultrasound_state</variable></variables><block type=\"procedures_defnoreturn\" id=\"ybQx3#6:}+eJjF0aNS$g\" x=\"237\" y=\"-713\"><field name=\"NAME\">init_user_constant</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"VT~NC37zp%/tJp@ba#@n\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field><value name=\"VALUE\"><block type=\"text\" id=\"Z$O9+x=OZR+$BSzoY%76\"><field name=\"TEXT\">bk_hk231_yolohome/</field></block></value><next><block type=\"variables_set\" id=\"@^8$.BP:2{+{tthd)]`8\"><field name=\"VAR\" id=\"0f0Fz7d^v{wr#s2xA1I8\">C_soil_humid_lower_limit</field><value name=\"VALUE\"><block type=\"math_number\" id=\"};Ll3)G3GHaG!([^il_U\"><field name=\"NUM\">50</field></block></value><next><block type=\"variables_set\" id=\"gaI;R4HJqZdm|hyMiI#D\"><field name=\"VAR\" id=\"9TI]d6;zbkczKC#EvuR`\">C_soil_humid_upper_limit</field><value name=\"VALUE\"><block type=\"math_number\" id=\"dq=QbOLvkDYOhlTSvgKr\"><field name=\"NUM\">70</field></block></value><next><block type=\"variables_set\" id=\"S8uj_;D+@F=--bRG!m!v\"><field name=\"VAR\" id=\"h/%-a];MJL4h:Zc#ES)b\">C_ultrasonic_distance_threshold_cm</field><value name=\"VALUE\"><block type=\"math_number\" id=\"vvi|?xyVA/mEusA(45]F\"><field name=\"NUM\">75</field></block></value><next><block type=\"text_print\" id=\"J/O}gT9n6D0Mx.NTIO:y\"><value name=\"TEXT\"><shadow type=\"text\" id=\"26Y6iKx:S|*{.$}PJ$-`\"><field name=\"TEXT\">User constant set...</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"8@IKQWTcy+S@={J`[%gg\" x=\"1912\" y=\"-762\"><mutation><arg name=\"cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">servo_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"?:Bmg|LRV6sT}l9bXey.\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"~bte@)q]gLCQul8^DU2^\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Wl;U?+SNKv=2f5;DB(-X\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"8W%s.%|h=fGu|Nso$`#v\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"}WM0mTlPyGre@GLI}-:v\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field><value name=\"VALUE\"><block type=\"text\" id=\"TF1;N@;%d,SOw0]$`+G?\"><field name=\"TEXT\">0</field></block></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"46sn9@|(QY,VY[}gMuW5\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"J#`EsC]D:eJ0nbnet~a5\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_mqtt_publish\" id=\"cy6Z#cb-35vF^F5v%3(0\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"BG/ZS9wVA?:rGkQyuhE{\"><field name=\"TEXT\">0</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"Enxx7MXo-!hph]cIPfKi\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"s+5F8s5Q:I(.I^w4-F}#\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"ZC/9HQ`2|[fNEy!0#D6Z\"><field name=\"TEXT\">output/servo/state</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"DuCcy]65$#BqB?h+-D65\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"MpBh;`,!Iq.W!Ud/hE._\"><field name=\"TEXT\">Command success</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"}L(?QAs/|gM{hNX[K*W~\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Kjdzb?N~llGtUq-[udoc\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"JTV[azpqi#5XN``fl!k2\"><field name=\"TEXT\">output/servo/result</field></block></value></block></value></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"DvgU%m)ER3/)|gxd]rN{\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"y%zI{VpN0p/`RQa$;|A5\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"7GAwKg:tSASx9rw?.bXo\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\",.38^Y.UEv+uHGmgy0`c\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field><value name=\"VALUE\"><block type=\"text\" id=\"dmnCJV75VabZe-o6Y$n9\"><field name=\"TEXT\">1</field></block></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\";o0g6@~A:*WeTCSCyh+G\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"[T6([.At;|!g`6?HQqZF\"><field name=\"NUM\">90</field></shadow></value><next><block type=\"yolobit_mqtt_publish\" id=\":]At9VeQ,u7X:#5kZ9lX\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"*k6i?aC[Q_=}^6);}Ii^\"><field name=\"TEXT\">1</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"@c08C1g-}4aXm24{/3$y\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"sr$W!676:GDCg|8@Eh$5\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"X/G~HcjmfT:)wDFyv7;S\"><field name=\"TEXT\">output/servo/state</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"fx:PS]tJqgNlw6E4z_j1\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"xr-|`r9Ly1$v|TvJ|,uY\"><field name=\"TEXT\">Command success</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"%v`Ac{$IL`ah6CNUGTZ~\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"0|CunjjEvUh!AQwC]#m$\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"6suQf9q)vTU4k~%D=}BL\"><field name=\"TEXT\">output/servo/result</field></block></value></block></value></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"jxA%01fYBmnJ7te;ZedC\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"Z6I+!DQ]LWxVJ?12#,C`\"><field name=\"TEXT\">Unknown command</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"rcYuP+_5)s`IXCs;jDsQ\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Wn!Nq^!z+:+t7wVlIbIl\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"EqryywBnv55sjDg5j`)=\"><field name=\"TEXT\">output/servo/result</field></block></value></block></value></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"gDzB@BM?{z1Eab9,qfUG\" x=\"3138\" y=\"-788\"><field name=\"NAME\">plan_watering_state_machine_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"O.X|GYdV:=[~xKr`!Mdv\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"#WH2?=vSiv0G_Qk8aRyw\"><field name=\"NUM\">0</field></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"zN#=_6Q:@-GCT(AU3mBg\" x=\"4388\" y=\"-787\"><field name=\"NAME\">light_control_state_machine_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"S!|Qio-pN)B7DbwSoB4K\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"VDY~K!Kz``vl=)LFz~VP\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"/u#xM%B`HXQTCTR^~xH2\"><field name=\"VAR\" id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"o*F@Mz)w?B*As2GcS(NE\"><field name=\"NUM\">0</field></block></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"a8kAT!b+(z7i3y)*Cy#j\" x=\"3138\" y=\"-687\"><field name=\"NAME\">plan_watering_state_action</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment></block><block type=\"procedures_defnoreturn\" id=\"cvZ0Sotb0bGdfPZ/DbI{\" x=\"5463\" y=\"-787\"><field name=\"NAME\">door_control_state_machine_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"^pd5FB%jnPjf%aU%C@@2\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"2sY,DY3#hij$:![WK/Dw\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"TddMz!e#1,$pt40*;LKn\"><field name=\"VAR\" id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"V.,5|aP/Kc27kQdZn;jB\"><field name=\"NUM\">0</field></block></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\",1~r[iNj/9|.WM0i*~#S\" x=\"238\" y=\"-512\"><field name=\"NAME\">connect_wifi</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_connect_wifi\" id=\"AN(N}.`xSXGk^^E~8iu+\"><value name=\"WIFI\"><shadow type=\"text\" id=\"Bw`JS]J6$0aXUPWXz/T5\"><field name=\"TEXT\">P.Long</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"zgnw![9So[LKyd.q?Rx_\"><field name=\"TEXT\">phuoclong1975</field></shadow></value><next><block type=\"text_print\" id=\"F^L{[!t[b/Jr6)=1=(=6\"><value name=\"TEXT\"><shadow type=\"text\" id=\"!`mvLTQKmk`Qx[tF)p5T\"><field name=\"TEXT\">Wi-Fi connected...</field></shadow></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"1STIAI.?aiUVeWU2lA:B\" x=\"1087\" y=\"-537\"><field name=\"NAME\">read_input_sensor</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"W#5K@MCzf,)VBW{f~l,}\"><field name=\"VAR\" id=\"CyUlGfyW7`T{UAS#nwxE\">pir_state</field><value name=\"VALUE\"><block type=\"aiot_detect_motion\" id=\"`L:o0Qba9S,Qv+xZM5%h\"><field name=\"NAME\">pin0</field></block></value><next><block type=\"aiot_dht_measure\" id=\":x`#pT@k5U40QIv}uKsc\"><next><block type=\"variables_set\" id=\"me*73TZ6ucQ!.ZWCCc$J\"><field name=\"VAR\" id=\".8EWoxfeka[$sj0.%zH$\">air_temp_state</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"J*JNa:=TX-WV!2U2I`_D\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"variables_set\" id=\"S;e?tt,vGjxk6_tTB;H6\"><field name=\"VAR\" id=\"Hg[4$2P8VVPShv/qTL?A\">air_humid_state</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"ZeA`cb_;aq;%mO+o*K5z\"><field name=\"DATA\">HUMID</field></block></value><next><block type=\"variables_set\" id=\"Q3_:zDCN}}O1J,^I.unz\"><field name=\"VAR\" id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</field><value name=\"VALUE\"><block type=\"aiot_soil_sensor\" id=\"n0!2$.v?0WF4)gm@1_q9\"><field name=\"NAME\">pin1</field></block></value><next><block type=\"variables_set\" id=\"%xw1CVSAV-:aS)(=PvTr\"><field name=\"VAR\" id=\"F@{Z/ns6Jgr=-Ooz/1#;\">ultrasound_state</field><value name=\"VALUE\"><block type=\"aiot_ultrasonic_checkdistance\" id=\"S}Bm-q,NZluy_kTq]+$U\"><field name=\"TYPE\">CM</field><value name=\"DISTANCE\"><shadow type=\"math_number\" id=\".V}A8:y|XPagB!@xfL_l\"><field name=\"NUM\">50</field></shadow></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"mZj3X~@S~tg)}GV(}G-`\"><value name=\"string\"><shadow type=\"text\" id=\"s_UI`vi;WSUzLH$rdI[;\"><field name=\"TEXT\">Input sensor read...</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"Tv;zzp#((ym!uMH:eJ,/\" x=\"4388\" y=\"-662\"><field name=\"NAME\">light_control_state_action</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment></block><block type=\"procedures_defnoreturn\" id=\"mmeo9c]d|Kg,6!kxy%p!\" x=\"3138\" y=\"-587\"><field name=\"NAME\">plan_watering_state_machine_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"l*^f*XUk8|K~%eL9%g=I\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\"jgZ{^Gh^R$U8La9d|BRJ\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"lL*nGIjoq^]_k|dYNgkx\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"variables_get\" id=\"mq+`0Hxuxr,y}*WU29l.\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"I=LLPa-luy?,=Q|^j]E{\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"/x8qELnnT|rZK=K}hvzz\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"0fH.{[XiZk:y/K55hfc,\"><field name=\"VAR\" id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"M@$Cg{IwpE|fN4OTnIE|\"><field name=\"VAR\" id=\"9TI]d6;zbkczKC#EvuR`\">C_soil_humid_upper_limit</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"G/7cP!ZSVaf`WE2]14`~\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"q5#=mx}:3Yg4:#lz?fHU\"><field name=\"NUM\">0</field></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"T,rSmx!]2fEeJbsvEf2e\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"KL)}jO5_@y(cdK|J~3/v\"><field name=\"TEXT\">Soil humidity upper limit reached</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"]F.wlACxFsT!9k`O5Y*0\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"P5-T2-TtFJ|LH^b+te_X\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"{fMj:1LLdKdu50.zB;T|\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"7]i$ZU`UI+[{K6r3qeC]\"><field name=\"TEXT\">plant_watering/notification</field></block></value></block></value></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"n=YMLEl}#zsa#UEgl|t8\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"$t4x9KjvC(bu0@cTkMpu\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"ARNzAoFc/^I1vwBaV1|9\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO1\"><block type=\"controls_if\" id=\"zn[|woec[*!1R/k=Axiz\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"9W|:eZ?b|a3cbhzZ+z=H\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"^z~C*5*pIUhFA4((fP7}\"><field name=\"VAR\" id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\")n?5:+@sd^MG$V0BzMC,\"><field name=\"VAR\" id=\"0f0Fz7d^v{wr#s2xA1I8\">C_soil_humid_lower_limit</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"AO}-v[$.^:H.w4pf@x{p\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\":_4IVCLvs5vr11$|E:6o\"><field name=\"NUM\">1</field></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"iuDrG(;O7e2%MG6sInq|\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"_w{jL@!@Zhqk;r+|#YAW\"><field name=\"TEXT\">Soil is dry, need watering</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"]F.wlACxFsT!9k`O5Y*0\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"M.T7KcTDx*_6WQ(3,%+]\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\".QXG`w_M)+6`#(h6B;Z/\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"kK^%tARl^Zv.`*`ceaZB\"><field name=\"TEXT\">plant_watering/notification</field></block></value></block></value></block></next></block></statement></block></statement><value name=\"IF2\"><block type=\"logic_compare\" id=\"HV;yg;2f/b;QpkUr^vI:\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"_cNm*FM(.YumqHjAc$Gw\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"J..R[eW~LQB`vwL(OiAX\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO2\"><block type=\"controls_if\" id=\"~fr;67ePpd_[GIhP#)yT\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"_317~dDr.1n0GVHbT=kP\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"]Ut2%M%#RhK,e@gw0*Ga\"><field name=\"VAR\" id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"-$(:u1%*p21yQz4/[`:T\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"5WY4w08F,@SSC/eH%(6,\"><field name=\"VAR\" id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</field><value name=\"VALUE\"><block type=\"text\" id=\"{do,r5O?ls!w5:RbW12:\"><field name=\"TEXT\">0</field></block></value><next><block type=\"variables_set\" id=\"`t:@2-YGT#Tt=^Dbqm=u\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"L@y[[(^3l:K[-Vm@N/fy\"><field name=\"NUM\">2</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"rY`|e^37o@A^rClg~~NZ\"><mutation name=\"set_timer1_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"y!T`DXZCs|8AA*rRmr/D\"><field name=\"NUM\">30000</field></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"};ekak`Dkw9euks5{v{A\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"pKVjaXcCLC})0Bo-h]v,\"><field name=\"TEXT\">Watering activated</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"]F.wlACxFsT!9k`O5Y*0\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"ct=r*7EkQ8.0RR=t3lZ5\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"wLyZqmyuVn8,1%cQ0i(E\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\")yJ6;{|/QxL+8;*Tr=dI\"><field name=\"TEXT\">plant_watering/notification</field></block></value></block></value></block></next></block></next></block></next></block></statement></block></statement><value name=\"IF3\"><block type=\"logic_compare\" id=\"Y*Zbs;XqB~`4a2#X26`Y\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"ex[qwEXj,r;u!+C}BjkH\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"VXE}@8l*Wmu?^HQ%nKu[\"><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO3\"><block type=\"controls_if\" id=\"kX!;m;~cfv_z7M,qz~f-\"><value name=\"IF0\"><block type=\"procedures_callreturn\" id=\"tLVrf=C0w{RNREl{ULCN\"><mutation name=\"is_timer1_elapsed\"></mutation></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\")$*t}uHbQRQz`^3]wMbY\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"Eot#^|u2rV!cHH6ReVb~\"><field name=\"NUM\">3</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"=0RJr|Nc,^Y.SETZz@3b\"><mutation name=\"set_timer1_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"0Pb*mSyB-)*V)GSJ7=D[\"><field name=\"NUM\">2000</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"O!D0[91_^M/)Fx;`./9E\"><mutation name=\"pump_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"j=sCl)=Ny[O-V-.7-q[e\"><field name=\"TEXT\">1</field></block></value></block></next></block></next></block></statement></block></statement><value name=\"IF4\"><block type=\"logic_compare\" id=\":B|bZGHPZe77n~HeT:r~\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"hBJ2L!%Qjp_/O!_g)N!;\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Y_^JrK5[SJ/~w-u]{.:v\"><field name=\"NUM\">3</field></block></value></block></value><statement name=\"DO4\"><block type=\"controls_if\" id=\"@IP-qN@Us/.Fuh-Fk/$|\"><value name=\"IF0\"><block type=\"procedures_callreturn\" id=\"822O#,25+hUQ$k1LxoG_\"><mutation name=\"is_timer1_elapsed\"></mutation></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Hsq5Wt/oqnwT34r(c~=r\"><field name=\"VAR\" id=\";@$#uHZfNjoHAn1`1eH}\">plant_watering_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"GbsFc/F|bTg23wG%i;dL\"><field name=\"NUM\">2</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"TxJ_9h4LOOK.~goD:j~J\"><mutation name=\"set_timer1_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"uts[I[^3x,=rYGi^KP%h\"><field name=\"NUM\">30000</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"*_D6.-63#W/CVc~=U;j~\"><mutation name=\"pump_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"kfRb,y8aa+fz;Iik]Nre\"><field name=\"TEXT\">0</field></block></value></block></next></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"?TvFcf:.?I?oNFtRT8Bb\"><mutation name=\"plan_watering_state_machine_init\"></mutation><next><block type=\"text_print\" id=\"8o_}Cx+^~}Z5Mqq7lPc{\"><value name=\"TEXT\"><shadow type=\"text\" id=\"GFsaDWcU1Bb(iV[|S#z:\"><field name=\"TEXT\">Plan watering state machine error, reset state machine...</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"h@29c_m14`6!geD;x!=~\" x=\"5462\" y=\"-687\"><field name=\"NAME\">door_control_state_action</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment></block><block type=\"procedures_defnoreturn\" id=\"E{oBhrgnLNfDo_5V98ls\" x=\"237\" y=\"-388\"><field name=\"NAME\">init_mqtt</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_connect_custom_servers\" id=\"gWglgDUi%K8Z`1_w$rev\"><value name=\"SERVER\"><shadow type=\"text\" id=\"`bkUw7)m|zep`tY+$DIx\"><field name=\"TEXT\">broker.hivemq.com</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\".ecmf[452PE@r|tY}fLP\"><field name=\"NUM\">1883</field></shadow></value><value name=\"USERNAME\"><shadow type=\"text\" id=\":wa{~1oqE(rilNZz_5Za\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEY\"><shadow type=\"text\" id=\";(=8*L{I9Z==2RTm+mM=\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"text_print\" id=\"b$AMYo3L9.e,5Bmj+Z+M\"><value name=\"TEXT\"><shadow type=\"text\" id=\"eBYe+peti31EV}drTrKK\"><field name=\"TEXT\">MQTT broker connected...</field></shadow></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"7`17PT/7m5,7[Qbn~=+7\" x=\"4388\" y=\"-563\"><field name=\"NAME\">light_control_state_machine_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"ef!K4R[jw,|bu7c/l.5W\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"L9%R#+U-q^lZqX!1{MrJ\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"R3N@CL6L6mAEf_j2su/z\"><field name=\"VAR\" id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"F9M,I{p`e4s!3sqYGZS~\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"l{s[cLt#(*~Cg6`4izr-\"><field name=\"VAR\" id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"UT;O}AaZ`qaJ@$6QP(4K\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"o,wZJTcI|:nnwAx8OBr(\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"SN~X~Y7[}lei#f_~qAb?\"><field name=\"NUM\">3</field></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"{q+dIpGUoSm3(O(7NC.u\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"ZHP~==XZE]~!n|^%D%]]\"><field name=\"TEXT\">Change to manual mode</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"]F.wlACxFsT!9k`O5Y*0\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"@yr(YVT74B|RXgdMXLq+\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"0=;Rc;iZ,Gf]l[kEgPDk\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"H6okZN!.4r!#SJ1k[;wp\"><field name=\"TEXT\">light_control/notification</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"9!f/k$R(|cobO:^rt,sX\"><mutation name=\"rgb_led_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"#5rl2T3^-35Ym{e-p9e]\"><field name=\"VAR\" id=\"Xp#!3QGB=^uph_j3pIEC\">rgb_led_cmd</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"`vqm5r9V+dIn(bb5N4LW\"><mutation name=\"set_timer2_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"v1Pl,2uriBvDJiEI2TPO\"><field name=\"NUM\">600000</field></block></value></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_operation\" id=\"2[QauK51C:E-T;=dR={n\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"E~ouP*)M%GlMq]owHxr+\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Q8i}G7|S2/F?m;!|Ti^|\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"*^szxW)UA$Vwat28P=[M\"><field name=\"NUM\">3</field></block></value></block></value><value name=\"B\"><block type=\"procedures_callreturn\" id=\"gETut+dD}}AvLy~p-g-:\"><mutation name=\"is_timer2_elapsed\"></mutation></block></value></block></value><statement name=\"DO1\"><block type=\"yolobit_mqtt_publish\" id=\"%D,8E=jiY-Uu)WiKO8|2\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"]xs+Z#5@OO:A-L[^nCMF\"><field name=\"TEXT\">Change to automatic mode</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"]F.wlACxFsT!9k`O5Y*0\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"qxqbD28bgMlAE4;RM1c8\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"S#0f2SP3EwMjZe{-/LW+\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"9a}UxTp?3fW:Dusjq*}@\"><field name=\"TEXT\">light_control/notification</field></block></value></block></value><next><block type=\"controls_if\" id=\";Nw$KxH+Lhyz^wf9;{@d\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"4t0kgeOdHiDU,AVm?3`:\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\",t[DY{Q1yf_{kP;bjlM8\"><field name=\"VAR\" id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</field></block></value><value name=\"B\"><block type=\"text\" id=\";lbS:3ZXwJt=VCrODiT%\"><field name=\"TEXT\">000000000</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"pFdqkOK(:X|;PH20d[nt\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"CBS|px0Y5|dy6U|Te@r1\"><field name=\"NUM\">0</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"dgasT_z()O`*L=jD`mX)\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"[~I60PX+XVkb2[ba);Xd\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"j%Z2r$2P1x6LmrM2jNQ?\"><mutation name=\"set_timer2_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"X124KCqFO$dQUHNrsF[?\"><field name=\"NUM\">15000</field></block></value></block></next></block></statement></block></next></block></statement><value name=\"IF2\"><block type=\"logic_operation\" id=\"}|IjN{s@)+^}}QWBg%pX\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"?D?A#Ozwhv|2#CNM3D+D\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"xGy@^4pJA)R*Q0*;}ITn\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"rQel2fHQD/j~z)f+{6Wb\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"aiot_detect_motion\" id=\"p#nVe2|TgLIdkQ%BG%X,\"><field name=\"NAME\">pin0</field></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\" id=\"90a[m_nX?hLOfnOE|}HO\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"SS]49z$Cs1s~OEV_qAVr\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"x8I)w[Ju,gKQh-^4FEDy\"><mutation name=\"set_timer2_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"QZc8dADnW_m$Ru+Z#^!u\"><field name=\"NUM\">15000</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Ad#ICn{9UJ*tmHKo[i3e\"><mutation name=\"rgb_led_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"1z?X-@1T[SjZ,keU|)=d\"><field name=\"TEXT\">255255255</field></block></value></block></next></block></next></block></statement><value name=\"IF3\"><block type=\"logic_operation\" id=\",%^u=0mXK[+}/b/rm#OV\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"MClw_fMNP/d+IR=[b9LI\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"}!%iZMZ7ZrIIlqiT%hbj\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"-Xnr2JM5hmn.N}8uijKS\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"B\"><block type=\"procedures_callreturn\" id=\"y2|;%6[7ROGwE/0q~`L7\"><mutation name=\"is_timer2_elapsed\"></mutation></block></value></block></value><statement name=\"DO3\"><block type=\"controls_if\" id=\"Yh;Urdl7SbvU:N?AF1+N\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"H$RzGw[Ic(S~zt6NJtX7\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"lx,CE:?P2~c3fMeWdox`\"><field name=\"VAR\" id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</field></block></value><value name=\"B\"><block type=\"text\" id=\"vX;R(@T8^,+LL*p-#Z4z\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"IgN45bK7%ZatmHAuCraV\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"*M:5N`y=jb/v[{LndLg+\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Kh8NSi9#7k5q*CU.?zhh\"><mutation name=\"rgb_led_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"4BED~=aw_t(6qXlWxZEC\"><field name=\"TEXT\">000000000</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"PPGNKyhqlUW?a?cF%aGQ\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"qgm$nx1[Tgq{O#x3`..m\"><field name=\"NUM\">2</field></block></value></block></statement></block></statement><value name=\"IF4\"><block type=\"logic_compare\" id=\"I1r{,GT?hhMnJ=uFF*?-\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"dy]p,,%.II?oxWC_ggkB\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"4~#XwKd51KNo=Ia|ssGk\"><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO4\"><block type=\"controls_if\" id=\"~YfowE+bO6NPoAF2Ut;=\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"uA=O381#w,eBz}IX9=zy\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"`OqhO`-nGW#GL+_%-UQW\"><field name=\"VAR\" id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</field></block></value><value name=\"B\"><block type=\"text\" id=\"cDt17O[W!Cs`rM@9*,6T\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\";|Fb$dM~|2~EKz3oom!,\"><field name=\"VAR\" id=\"[sZ:dxR0*5Py{oYlVu`O\">light_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"uqEUr^)SmSzLhu|L`/91\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"eLI?M5J:tuhsJRrp8R!h\"><mutation name=\"set_timer2_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"01T.6Xrcvkj7poFu}eAc\"><field name=\"NUM\">15000</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"tFF[(+!fh%sF01@j=XB6\"><mutation name=\"light_control_state_machine_init\"></mutation><next><block type=\"text_print\" id=\"vz%XTK~Qp(pXLD[.@U4a\"><value name=\"TEXT\"><shadow type=\"text\" id=\"Sa`hg1F,qpYiVIJ-6[Lv\"><field name=\"TEXT\">Light control state machine error, reset state machine...</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"u[b/PpLETs:^}}MS6+OT\" x=\"5463\" y=\"-587\"><field name=\"NAME\">door_control_state_machine_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"DZg2%F_DE[SS1.e2K;t@\"><mutation elseif=\"4\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"9F(gH(1p2]5U+IYpVW2T\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"4NNJ3yI.vmIj,aJSson7\"><field name=\"VAR\" id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"obovR3Smv(3Ug|/sD|5!\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"WzMLFQHXl!|lz^+g@p/j\"><field name=\"VAR\" id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\";$$Ky/g/ip{5U%T]YJu=\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"!qflPBTRjMu/]krWM=7l\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"bM:ZbkEIk^S/BT}9W=C,\"><field name=\"NUM\">3</field></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"[0%H57e:/qF+W5D{-K5c\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\".bRrqEb)Uq5R)Tpj(9Ro\"><field name=\"TEXT\">Change to manual mode</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"]F.wlACxFsT!9k`O5Y*0\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"!lw/{f^_knFt|XsH_D8I\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"2IB?xvjZlsy{Y/eN+p_L\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"DaE/m|jRV+jNZG=L52~N\"><field name=\"TEXT\">door_control/notification</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"B_.0(GIA%_yKMh2/@;H7\"><mutation name=\"servo_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"fZUv|VN1Y@}bGW/c0x!!\"><field name=\"VAR\" id=\"uAiy_Gn;gI,#Y!SCk=48\">servo_cmd</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"$HIV=wC!4]imy}q(||!B\"><mutation name=\"set_timer3_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"wOlcP#Mun;1v5Wvx90#0\"><field name=\"NUM\">30000</field></block></value></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_operation\" id=\"5v+U9:HI37bt-F-Mg2tW\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"C+q]W8iOh4/%(}b8R,^G\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"j?{!y;In)6OKCl(tk/Cy\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"YEJ#0KxJS0)I9c6p?S@T\"><field name=\"NUM\">3</field></block></value></block></value><value name=\"B\"><block type=\"procedures_callreturn\" id=\"6t}?r6{KBj;i,Bw}89_3\"><mutation name=\"is_timer3_elapsed\"></mutation></block></value></block></value><statement name=\"DO1\"><block type=\"yolobit_mqtt_publish\" id=\"jeJIf!dHp=*8}=P$Z-.+\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"?Xx~t:g}!_2ZjWif4:S@\"><field name=\"TEXT\">Change to automatic mode</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"]F.wlACxFsT!9k`O5Y*0\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"e(A,ZZ*E53XPwzfC:(0_\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"9tC0?j9c)wLV#s,10`;:\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"6M:Zj]nN}R.Dg5-f5jBd\"><field name=\"TEXT\">door_control/notification</field></block></value></block></value><next><block type=\"controls_if\" id=\"94RN!4ocrKMrY%/k6ZJo\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"vS#uDH*nO.{6PaN[}q6q\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"-`N*u^A9*e4!iy8h83=@\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field></block></value><value name=\"B\"><block type=\"text\" id=\"$8rS`k[A4[H8O#3,t-9v\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"oaca)N]0,_#MDb/[lFt^\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"E_4W$(Y-J#qWoOP$/Gm_\"><field name=\"NUM\">0</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"|)wOns#[6[2/Hd1hof+%\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"v0~SIf;hi+I;)Ps,}#NE\"><field name=\"NUM\">2</field></block></value></block></statement></block></next></block></statement><value name=\"IF2\"><block type=\"logic_operation\" id=\"8UuIG4h`CZMj1PP=%U.V\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"rU4]}oe*,oaK7rIM5Gvy\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"YDZ8c3$mrq@B7Qs_A`L2\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"~:}v86lE9%ny@)*%apcg\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"aiot_ultrasonic_checkdistance\" id=\"%Z2KVGa(WX:NoohvV{3C\"><field name=\"TYPE\">CM</field><value name=\"DISTANCE\"><shadow type=\"math_number\" id=\"O?rX[Cl*`Y%@E`[+t3(3\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"u*sVB+hDlNI[+k{U/VN}\"><field name=\"VAR\" id=\"h/%-a];MJL4h:Zc#ES)b\">C_ultrasonic_distance_threshold_cm</field></block></value></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\" id=\"A-JmsxA*k_%4/14`E+H$\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"P9},jU*zCBU(%Kf[qe06\"><field name=\"NUM\">1</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"a?,wRRMV|NyRR+=i|Zgz\"><mutation name=\"set_timer3_from_now\"><arg name=\"ms_from_now\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"r:JPOUrDqTyti?*-v4[H\"><field name=\"NUM\">15000</field></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"}y_go}3[b,+d@Wd7Jg[;\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"j]kNj?f,_V1bT#oH}-@?\"><field name=\"TEXT\">Run</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"]F.wlACxFsT!9k`O5Y*0\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"(L2Lq,r9}u}YQnU(-?AO\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"/7S`PVcp]:;TlD*yUQZ{\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"Q|=2Z?8vZJeCu~jEMe@=\"><field name=\"TEXT\">door_control/id_activate</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF3\"><block type=\"logic_operation\" id=\"irB!gmSk/;3{lUr,;~I~\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\")z{+x%TDGPZ:55zaYYuC\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"[0#e.Se=*=9^OzVZ`@9n\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"4]=_vF)7U6z6Qkw]#,,(\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"B\"><block type=\"procedures_callreturn\" id=\"LHH*!X*z`:@cfgKd{tjg\"><mutation name=\"is_timer3_elapsed\"></mutation></block></value></block></value><statement name=\"DO3\"><block type=\"controls_if\" id=\"~3`ZsmO,p3I-VF$QP^Vw\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"ql):z.3~ZY.gOxNs@^ky\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\".iJ*0O/9^y0xF%U;VWae\"><field name=\"VAR\" id=\"^[Rb(5$Zs?Apl5Am]GZX\">door_control_id_result</field></block></value><value name=\"B\"><block type=\"text\" id=\"E;1tQbTzNlIhu65xp1dR\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"#eJ[4UiPFy[zeSX0PK);\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\";3`jkG@_j+jPMUZ$ls6E\"><field name=\"NUM\">0</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"::;oA8u=B71N;``-+jfy\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"A[H2.W,8+)c[HbJDNBwN\"><field name=\"NUM\">2</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Z9oXK[O7i7VTdj/@9q~*\"><mutation name=\"servo_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"%_p4F:Vx-/Us*r+SQ@-=\"><field name=\"TEXT\">1</field></block></value></block></next></block></statement></block></statement><value name=\"IF4\"><block type=\"logic_compare\" id=\"^Dy%*?Y,[)0.un^o]):X\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"o#.3(u{[(gNodcdh!jka\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"us~4xb4GAdkuxTfr~J_*\"><field name=\"NUM\">2</field></block></value></block></value><statement name=\"DO4\"><block type=\"controls_if\" id=\"r``dp(ByCs)/6nL%wT#9\"><value name=\"IF0\"><block type=\"logic_negate\" id=\"nXYg7$NNNbP-p6E,9+j3\"><value name=\"BOOL\"><block type=\"aiot_ultrasonic_checkdistance\" id=\"s-=K4Y7JFYTBB2%{1:/S\"><field name=\"TYPE\">CM</field><value name=\"DISTANCE\"><shadow type=\"math_number\" id=\"O?rX[Cl*`Y%@E`[+t3(3\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"L~QX+G~#h(},;Xw!H|kb\"><field name=\"VAR\" id=\"h/%-a];MJL4h:Zc#ES)b\">C_ultrasonic_distance_threshold_cm</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Gap/Ls/DS(qUr3Qmkh((\"><field name=\"VAR\" id=\"}eduN3m3-lTK@wo6N}ia\">door_control_current_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"rB=OS^QTp97WCCMSHDh]\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\";vwyNGxOF{!Y!psHZ+[h\"><mutation name=\"servo_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\":~mdpUx$m*i|8An4^`[t\"><field name=\"TEXT\">0</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"?-+`roqGS1d}cq?1o]N5\"><mutation name=\"door_control_state_machine_init\"></mutation><next><block type=\"text_print\" id=\"!K(d2KeApHE%fGm=/_8?\"><value name=\"TEXT\"><shadow type=\"text\" id=\"%@)*TPlu`r7Cwl^RD5yl\"><field name=\"TEXT\">Door control state machine error, reset state machine...</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"79[]{^XZMR-HJ.h@#Qvy\" x=\"237\" y=\"-263\"><field name=\"NAME\">ntp_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"set_time\" id=\"![O3RY0W=J3s4puE;~bJ\"><field name=\"GMT\">+7</field><next><block type=\"text_print\" id=\"1.o?$dn7EA5X9H{G*XsI\"><value name=\"TEXT\"><shadow type=\"text\" id=\"Y28a)h6%1#[h]dfO^`J=\"><field name=\"TEXT\">NTP time updated...</field></shadow></value></block></next></block></statement></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"-13\" y=\"-237\"><statement name=\"ONSTART\"><block type=\"procedures_callnoreturn\" id=\"Q^H7o#_;nuN#er(^ZpHR\"><mutation name=\"startup_procedure\"></mutation></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_events_run\" id=\"r-50Yf3?19R8fl|Ri%+1\"><next><block type=\"yolobit_basic_sleep\" id=\"kXq;tk2f;U/Ou3eUElrU\"><value name=\"duration\"><shadow type=\"math_number\" id=\"];{@=c2}T8Mu,$^{usZL\"><field name=\"NUM\">50</field></shadow></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"2X:^iWhL!4#)Fc_5O++d\" x=\"1088\" y=\"-263\"><field name=\"NAME\">send_sensor_data</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_publish\" id=\"CKycFclK{,vrEgc{5Be6\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"qi%80RI3-G/Zxtsgx)Y#\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"k2;SQ8!W2Z)T+agV$3Vm\"><field name=\"VAR\" id=\".8EWoxfeka[$sj0.%zH$\">air_temp_state</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"th8;Kw33p^tI@LTiOete\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"@tD.r|3!mg6~wcRj1$BH\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"8=G]s0G7G6_S:e~C2`.I\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\",86v0}%x4?;Dft1}BvuO\"><field name=\"TEXT\">sensor/air_temp</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"MtqCos/,{+A7eG/}s4GR\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"qi%80RI3-G/Zxtsgx)Y#\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"#{Bp`j)l5Ih``;,]LSqI\"><field name=\"VAR\" id=\"Hg[4$2P8VVPShv/qTL?A\">air_humid_state</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"th8;Kw33p^tI@LTiOete\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"g=6^uv/5BMum]})OetHY\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"p?tjpj9WK$OH[sbSsW3s\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"Gi6_GH/ZB+)sG{S|17|)\"><field name=\"TEXT\">sensor/air_humid</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"wjtsmp?_D]D8g,@*py#^\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"qi%80RI3-G/Zxtsgx)Y#\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"jPzM@I{C9Z=m1eG1(JN=\"><field name=\"VAR\" id=\"gw3TbbF-I/BXeo/VC2G-\">soil_humid_state</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"th8;Kw33p^tI@LTiOete\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"I$}gR9R/vnkTdj_@Gkh~\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"ZA2^yWn?Dz#g7f#S1JyC\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"?)xHaxCLu13%K+44Qc/p\"><field name=\"TEXT\">sensor/soil_humid</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"CiY+Dx^L:mSGb+zgGdOs\"><value name=\"string\"><shadow type=\"text\" id=\"otY;h%.RVJk|}y9gbCob\"><field name=\"TEXT\">Sensor data sent...</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"dCDZWK5px^@[ly}No(y4\" x=\"237\" y=\"-138\"><field name=\"NAME\">init_input</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"aiot_ultrasonic_create\" id=\"?tof*6!Y![q8%mhcuoPN\"><field name=\"TRG\">pin3</field><field name=\"ECH\">pin6</field><next><block type=\"procedures_callnoreturn\" id=\"P`XRsedKd=eCqz}UB0QM\"><mutation name=\"read_input_sensor\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"/m|@[O8/!gdGeo~Ni[Dr\"><mutation name=\"send_sensor_data\"></mutation><next><block type=\"text_print\" id=\"a2n68!#e}g1|w!F@RlIW\"><value name=\"TEXT\"><shadow type=\"text\" id=\"8kwyk;u4hPHGwNt:rlx[\"><field name=\"TEXT\">Input devices initialized...</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"Hn)E4C+D@/8`lop/hs!C\" x=\"1913\" y=\"-187\"><mutation><arg name=\"speed_str\" varid=\"VK(hLz9@*o@270o.Qr4#\"></arg></mutation><field name=\"NAME\">fan_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"fBCC3871ntZW:_Xz|XVw\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\")/1oCY?C.)-ibQc:h^y9\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"x(^4MWSx9K^a_vh67p@(\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_tonum\" id=\"w0{:GTqMwJqoUR^vb=ar\"><value name=\"A\"><block type=\"variables_get\" id=\"%`U$Xr0N@ji$I9FVryCh\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"nZWE@?c,VWI=G/-P:pAP\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"ut]1N%}ym;f(}RMSQc,X\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"math_tonum\" id=\"0v6f*U0zFo~;=iM~`i)c\"><value name=\"A\"><block type=\"variables_get\" id=\"ox,9Gln._b;Cm3A!NVe7\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"4;f)Gq+gx0[Ra!f8E1%~\"><field name=\"NUM\">100</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"aT4u?JU[A4t+u0A${oS{\"><field name=\"VAR\" id=\"O4aX%.yS//bU-PG9y,YF\">fan_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"eKrOR{[yq+@V1J9IwSQ/\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><next><block type=\"aiot_minifan\" id=\":};Ez~RB*XxV:#oqBThl\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"1HSnkTSQ5lI-TMBZYB._\"><field name=\"NUM\">70</field></shadow><block type=\"math_tonum\" id=\"[*rwYHK6s!_5`g+y_@8O\"><value name=\"A\"><block type=\"variables_get\" id=\"[fc[7_),1::a~7Fx#f-1\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value></block></value><next><block type=\"aiot_minifan\" id=\"%l9~s;l(Ja0=TBd@U0[d\"><field name=\"NAME\">pin15</field><value name=\"percent\"><shadow type=\"math_number\" id=\"C7PJ+_0=6+L?H$()+!c|\"><field name=\"NUM\">70</field></shadow><block type=\"math_tonum\" id=\"KnokdNSS!LJO~u@?bu]3\"><value name=\"A\"><block type=\"variables_get\" id=\"L*,OQ{%f21NryzDS[}sx\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"-lJA`A4W,VOxI[,)#H0V\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"2u56f[JhJlZHwF/dt7*u\"><field name=\"TEXT\">0</field></shadow><block type=\"variables_get\" id=\"LZNK7,B%Z(afAD^jeV0j\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"}l}:!0ZqY9{D_[HL)0V*\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"BTZ(V?^JTE$hhY^ti8hG\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\":6NGzuN;AX!9*k[e(wU`\"><field name=\"TEXT\">output/fan/state</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"c!~G2.F(KX.t|NKiHR6/\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"e_*OR-ew:d%#1^r,!^zB\"><field name=\"TEXT\">Command success</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"l]9rE:z)p!/4~0cmld8[\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"|AGr!TG2OWHh}y?.;{cS\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"PU}^=uSg7a(4m/{wu99k\"><field name=\"TEXT\">output/fan/result</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"mLpa{m#+`(R%#wTQn)qj\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"gZv0~979^5x~GYK4tx!g\"><field name=\"TEXT\">Unknown command</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"pf2(-e,iM]S+q~r.?#1=\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"oWk2_p3/~kX9xW-_`O?3\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"dop(l_qv0/s=J`yszxxj\"><field name=\"TEXT\">output/fan/result</field></block></value></block></value></block></statement></block></statement></block><block type=\"yolobit_events_timer\" id=\"MKFnKqNc3!%5e5a7il_C\" x=\"-13\" y=\"-62\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"Cvb0+Nm8JvM^iG)f.@b:\"><field name=\"NUM\">1</field></shadow></value><statement name=\"ACTION\"><block type=\"yolobit_mqtt_check_message\" id=\"XOK|R+S!hShNI74STFdu\"></block></statement></block><block type=\"yolobit_events_timer\" id=\"`#nwsv|O2gj60!`L!(|/\" x=\"-12\" y=\"38\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"S9H5$EJqW,AQC@nPVx|q\"><field name=\"NUM\">10</field></shadow></value><statement name=\"ACTION\"><block type=\"procedures_callnoreturn\" id=\"IIc0?uf{+;XQ%6tq?Sc_\"><mutation name=\"read_input_sensor\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"scVD%bf!7dcyWT|CAS,P\"><mutation name=\"send_sensor_data\"></mutation></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\":D3^jjk?s{n302By!esG\" x=\"237\" y=\"38\"><field name=\"NAME\">init_output</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"aiot_relay\" id=\"y+uYTS6VWSE/aMfW4k.%\"><field name=\"state\">0</field><field name=\"NAME\">pin2</field><next><block type=\"variables_set\" id=\"d_Lg|{,dC;R2zc2$!]}d\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"0xG?Izq`UIf/h:EU-oQE\"><field name=\"NUM\">0</field></block></value><next><block type=\"aiot_minifan\" id=\"6tLwH[L$w~u2tU`ng5;P\"><field name=\"NAME\">pin14</field><value name=\"percent\"><shadow type=\"math_number\" id=\"=8|vb(biA#:E}anakI$o\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_minifan\" id=\"Lu^LTny6)Rjy:R)f?n/a\"><field name=\"NAME\">pin15</field><value name=\"percent\"><shadow type=\"math_number\" id=\"$`5}xYLW.#0+vD_Ra*hK\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"]c6+p[j=WrwVgZOdLmCy\"><field name=\"VAR\" id=\"O4aX%.yS//bU-PG9y,YF\">fan_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"Pw:O}3e^#roBO$S=bhLO\"><field name=\"NUM\">0</field></block></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"j,uxKLCTSQ!*F8R6hM=?\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"/MO=]i9M)=dD_xbASTJv\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"$SYa%vL8pm3~s8k$n?]d\"><field name=\"VAR\" id=\"Q-I}6Z8-XngsVa|,6S(p\">servo_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"1rrU+kVeI~6!#t_nsO*8\"><field name=\"NUM\">0</field></block></value><next><block type=\"aiot_led_tiny_set_all\" id=\"?5}@2#8O7$)o=4cIm4%,\"><field name=\"port\">pin16</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"kr!`~mkCDIgvaL_r0D-}\"><field name=\"COLOUR\">#000000</field></shadow></value><next><block type=\"aiot_led_tiny_set_all\" id=\"p!s[[2UM_{;e/+3vh)6c\"><field name=\"port\">pin12</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"$=CCO5rw*k}(.w*C=unn\"><field name=\"COLOUR\">#000000</field></shadow></value><next><block type=\"variables_set\" id=\"8lyFu+];VRK_EF9UR(p!\"><field name=\"VAR\" id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</field><value name=\"VALUE\"><block type=\"text_join\" id=\"^lKc_?,*]-}~tkvHQDK=\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"(f[5yTgf~vH^e_pg]^sS\"><field name=\"TEXT\">000</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\",+BG.d5Wa8L,#kUy0z:g\"><field name=\"TEXT\">000</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"yG,Zk5@Q,d?}tjYmU}gF\"><field name=\"TEXT\">000</field></block></value></block></value><next><block type=\"aiot_dual_usb\" id=\"/9xGJ%yg=TP/)],{h}u%\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"kqRNKEIYjM0J;IRAt{H9\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_dual_usb\" id=\")8jGzrNH_m^p`6`q)B`R\"><field name=\"NAME\">pin13</field><value name=\"percent\"><shadow type=\"math_number\" id=\"Y|%8`UhRJh;c3yCjIik+\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"F5joZ8?X:I:?iU5+XB6a\"><field name=\"VAR\" id=\"#(M%9;*TlClci?@B6g[L\">pump_state</field><value name=\"VALUE\"><block type=\"math_number\" id=\"it2X4ux(n8}X7;M@@,8I\"><field name=\"NUM\">0</field></block></value><next><block type=\"text_print\" id=\"MrTA6N_pHG6KzQDi5F?y\"><value name=\"TEXT\"><shadow type=\"text\" id=\";Eg.;UofCH1`^$woRz@x\"><field name=\"TEXT\">Output devices initialized...</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"AO{rv,u7j^7W)}3fL2y.\" x=\"1088\" y=\"13\"><field name=\"NAME\">state_machines_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"procedures_callnoreturn\" id=\"x[$agCWMIe;zfLz}F`u3\"><mutation name=\"plan_watering_state_machine_init\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"@.tQ/bUCVH8q_+vtY+fI\"><mutation name=\"light_control_state_machine_init\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"FR:!1N}{e?+}GZ9^0C6O\"><mutation name=\"door_control_state_machine_init\"></mutation></block></next></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"IdOJ3(xco+;[!idd@Q]^\" x=\"-12\" y=\"163\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"caLmFfj}BoH1j4A$l[H8\"><field name=\"NUM\">0.2</field></shadow></value><statement name=\"ACTION\"><block type=\"procedures_callnoreturn\" id=\"}Crf+Hoo%~[wPgv`..p.\"><mutation name=\"state_machines_update\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"!jmdq7Tgs?zh85bLJ@e_\"><mutation name=\"state_machines_action\"></mutation></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"%}T8@!-h=f(|tvGy2~-:\" x=\"1087\" y=\"162\"><field name=\"NAME\">state_machines_update</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"procedures_callnoreturn\" id=\"F^`MNU%cX8kV0}g04IZ:\"><mutation name=\"plan_watering_state_machine_update\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"R6kgS;5)OQD5fh];WC2_\"><mutation name=\"light_control_state_machine_update\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"9VY_=d)yT~?xuToCLJ/|\"><mutation name=\"door_control_state_machine_update\"></mutation></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"^=8e$:KS.ox.UvROk!m6\" x=\"1913\" y=\"238\"><mutation><arg name=\"cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">relay_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\":akZct(Yp/G??.[QZ6pF\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"(%g,Z5c%$9^N[1x*f611\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"XP#cxkf2yN%+v`l%J`]Y\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\".ar[+rY{l(#|LBV=w%2U\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"GdN+SDR|?aQSHVW15jYk\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"BuYpE36RodFhOPgYwt4Q\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><next><block type=\"aiot_relay\" id=\"[VFa7,}Aq|F6nI|$:v%G\"><field name=\"state\">0</field><field name=\"NAME\">pin2</field><next><block type=\"yolobit_mqtt_publish\" id=\"x_stu2#dp.9c_fqw2.yF\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"UXQbfBOl57;6segY|/eT\"><field name=\"TEXT\">0</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"P5Za7}wz$*x$Amcn6G)R\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Mg_/`En!~Jznv)=g1gU+\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"i%FLoFGdQ|s*yh(Bmi^e\"><field name=\"TEXT\">output/relay/state</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"xp?SoV)`W@tlb$2E`Dg|\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"TEs-yha)Y}b*EMFBqaRU\"><field name=\"TEXT\">Command success</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"]~5u1ewMZbQ2~9O~MP7I\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"3(BQ7f.MVY7.Wi4vnx[l\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"]#F2uBl1R)]jp1.Q=A4|\"><field name=\"TEXT\">output/relay/result</field></block></value></block></value></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"bOFLS~If8t7BVo(1xGVH\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"HD2!o#KgT$9TlxP^Sg+P\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"nRt3A8}Ux2C},h_Z-b~?\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"5[joE51LHEc%ku]%9wjC\"><field name=\"VAR\" id=\"yXfgsCpEfl4.HfgIvtQ)\">relay_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"=hO#w^FC@AUkHW[1P$e8\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><next><block type=\"aiot_relay\" id=\"!]t/b]VD!(A9=.Qpl#M;\"><field name=\"state\">1</field><field name=\"NAME\">pin2</field><next><block type=\"yolobit_mqtt_publish\" id=\"eX[;$3DGZnRc@Uf{X,Md\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"{DS1Zv9%6;LvYia~$Sol\"><field name=\"TEXT\">1</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"($UK(tA@Bph:OEo/I9(S\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"mf4Rf$tgW(9=g7rbt_[m\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"w{zZCAm@K)3hN;)5yz@~\"><field name=\"TEXT\">output/relay/state</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"x1[3Abc$I)Flp6(aoug^\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"iHdIEC-NEKX6li*ccOb:\"><field name=\"TEXT\">Command success</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"6a@o#cQTaUwuZ`!3w58~\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"HEx?=soUb/-^2f/PZE20\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"`4JIw;cRs$8KK|5*]N+l\"><field name=\"TEXT\">output/relay/result</field></block></value></block></value></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"T%U7n{[BD|z`N,fQvy?Q\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"bRq)qUuq4_or9IG:X`?^\"><field name=\"TEXT\">Unknown command</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"#w/uQ#+xHa6~3}HP{2Jm\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"{Tisk4oOl$7u[fIZ!Udq\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"nYeg3|AweMUmcq?~r^#v\"><field name=\"TEXT\">output/relay/result</field></block></value></block></value></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"*U^H[Hp?:o9MnSh55*rg\" x=\"1087\" y=\"312\"><field name=\"NAME\">state_machines_action</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"procedures_callnoreturn\" id=\"jWW#H%6$?y9]hZ85dx5@\"><mutation name=\"plan_watering_state_action\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"M,@?b_}Hfm?p}8j^ZZas\"><mutation name=\"light_control_state_action\"></mutation><next><block type=\"procedures_callnoreturn\" id=\",eyYX[2*Fbgjb8:H@gx4\"><mutation name=\"door_control_state_action\"></mutation></block></next></block></next></block></statement></block><block type=\"math_number\" id=\"{M@OwtI^3vTy!^1|Ovab\" x=\"485\" y=\"375\"><field name=\"NUM\">0</field></block><block type=\"procedures_defnoreturn\" id=\"nmz~f.5J_^5aN0ud6W}r\" x=\"1088\" y=\"462\"><mutation><arg name=\"ms_from_now\" varid=\"0*)F984h9K%PP9kfdIA/\"></arg></mutation><field name=\"NAME\">set_timer1_from_now</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"62pk6|-;6g/Nf`}d+:Vu\"><field name=\"VAR\" id=\"o[qk9).N}x1eCgym9HA`\">timer1</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"-mQ7NP#_u@TkEIh#V~R4\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"D*p2a[{@upd]:`[,L*Tc\"><field name=\"NUM\">1</field></shadow><block type=\"yolobit_input_running_time\" id=\"2#bd7f0^|Q(Qz%G_V|`{\"></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"/YC!0dD]oo=_qbx$xZWa\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\".J6I[cdajt81hk;Csrh%\"><field name=\"VAR\" id=\"0*)F984h9K%PP9kfdIA/\">ms_from_now</field></block></value></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"f{_HqeOi{,mblRG@dEg:\" x=\"237\" y=\"587\"><field name=\"NAME\">register_mqtt_receive_callback</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_on_receive_message\" id=\"=(hLGmUug1E4bfYyHktN\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"BRxmbTX2/;$/|H$r=v$u\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"W=uL3905-a^lWP/H.43U\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"gCz!XF{!~=:^LOsETef@\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"^NQ:(|~1I^ZV;x449QVf\"><field name=\"TEXT\">output/servo/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"]aAi5`)?q2,mBY%34Fy^\"><field name=\"VAR\" id=\"uAiy_Gn;gI,#Y!SCk=48\">servo_cmd</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"9q,jkaxYAPM2TO-=8r9P\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value><next><block type=\"variables_set\" id=\"n(+``$qWlkSxu$6iRt2Y\"><field name=\"VAR\" id=\"em@y4,-AYDZ1C2(!lKMA\">servo_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"6ZRt0.lA$%s7:M`_aQAT\"><field name=\"NUM\">1</field></block></value></block></next></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"7k|DF]d5XcAUazcB18VS\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"[$q?pt-)g-iocfR%xk7H\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"V2H8|=X~2bGcwe9M0wlm\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"*U~^ujQGZJ:,NrG6*rr3\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"k7+!aj]I5.8i8HJ2RMJ9\"><field name=\"TEXT\">output/fan/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"(b]O+xzUf{LS`{/(8H)%\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"@U|Tgwh0,dxjjp)]]x4N\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"s5v6j%Q-_dQ7P_^FKP/B\"><mutation name=\"fan_control\"><arg name=\"speed_str\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"~0e@R{[nDngG|zplxWoe\"><field name=\"VAR\" id=\"MYr4do$EkR;|OH|.U+}l\">fan_cmd</field></block></value></block></next></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"Y*lEVmRzHW$w#)oOESDp\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"^G?Wp[u:pQ^_(EaL7|Xi\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"e|]~OiKX)b`h16=Z9cHC\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"{CC,fHfGw^NjKo(]zKG,\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"th8Kp!9fOE7{6gME?8j7\"><field name=\"TEXT\">output/relay/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"p=Gf#Dbo)s2DdO8bEIbz\"><field name=\"VAR\" id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"gpw1f?!5k{L]L2~m?OI_\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value><next><block type=\"procedures_callnoreturn\" id=\",b?Slgml]sC4x_S)!FqN\"><mutation name=\"relay_control\"><arg name=\"cmd_str\"></arg></mutation><value name=\"ARG0\"><block type=\"variables_get\" id=\"E+exSm:9zj1#$p*.BWs3\"><field name=\"VAR\" id=\"d%TW6?QMV|$444P)Y3%y\">relay_cmd</field></block></value></block></next></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"(6Q@gnyIr.;UuqFVya/Z\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"=Xb{_H@dQ,B7vAre17rK\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"DHen_3VW^$,%sJ.ZG[pM\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Lwdjtj-0ArWyqp^L7:Ou\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"I6^(@|r?t*$eOV;{n/Fj\"><field name=\"TEXT\">output/rgb_led/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"m=!@]lRn11k:$Sa#/$#9\"><field name=\"VAR\" id=\"Xp#!3QGB=^uph_j3pIEC\">rgb_led_cmd</field><value name=\"VALUE\"><block type=\"variables_get\" id=\".qY4{gZ]f$-X~MelqE5B\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value><next><block type=\"variables_set\" id=\"mpkT}ACgEO|oLO7bk{u!\"><field name=\"VAR\" id=\"Y]~tk530m-E;RoBN4cd~\">rgb_led_new_cmd</field><value name=\"VALUE\"><block type=\"math_number\" id=\"p-|BQU|`lPVShfy4{@9m\"><field name=\"NUM\">1</field></block></value></block></next></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"G._wEyp-9vt|NI#OM.t.\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"kXJju{.%E=.6:?wq1yPa\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"hDF9S88x6v1`,;fqHs;P\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\",zK_Yq/tf}*(G$p:Y,:t\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"nrotJOlp0J`3[{s|mN,y\"><field name=\"TEXT\">output/pump/command</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"nd^-{`j2.O}ZIO{%k.!)\"><field name=\"VAR\" id=\"J8*CDuKSt7^P44AO/Yp*\">pump_cmd</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"O-.[kK|uMsS#|^qo4[t)\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"T`K7^AXhf7}@8ZD.dIKW\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"kXJju{.%E=.6:?wq1yPa\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"R|uFCPUBjw$Bp#Hr,X~@\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"=*iGy.?4.cZJ^NW;gJaL\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"DeJe$%b`n_sB,i;Apj`3\"><field name=\"TEXT\">light_control/presence</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"Qt({$y+|vB678]AX#{6m\"><field name=\"VAR\" id=\"io!LZ@sC9=*0@=f8/%7t\">light_control_presence</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"go@v4BI8kcgl1zDdt[pO\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"4o$b8f+R=uSy6v?mtL!o\"><field name=\"message\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"kXJju{.%E=.6:?wq1yPa\"><field name=\"TEXT\">test</field></shadow><block type=\"text_join\" id=\"Lt|e5PE}pLo4VZuaaSl[\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"oeL#IeRmrY`E#COE8*X`\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"sckw/5~yRL)R5fF0zglZ\"><field name=\"TEXT\">door_control/id_result</field></block></value></block></value><statement name=\"ACTION\"><block type=\"variables_set\" id=\"f(SW@#8;g^f(;eNCT);/\"><field name=\"VAR\" id=\"^[Rb(5$Zs?Apl5Am]GZX\">door_control_id_result</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"=/$$9O[Zn*Mrj#R$DUSG\"><field name=\"VAR\" id=\"9|!PME.].X{aJ$^X=3+z\">new_mqtt_content</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defreturn\" id=\"cRP$f@1]S=aJaDN:LSm:\" x=\"1087\" y=\"563\"><field name=\"NAME\">is_timer1_elapsed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><value name=\"RETURN\"><block type=\"logic_compare\" id=\"tl7ma(Jncc8dH%Uw_`SG\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"yolobit_input_running_time\" id=\"l;,zmSmy+F*]eV!rHQ]X\"></block></value><value name=\"B\"><block type=\"variables_get\" id=\"#h7uonb)_a8HC:*va.v4\"><field name=\"VAR\" id=\"o[qk9).N}x1eCgym9HA`\">timer1</field></block></value></block></value></block><block type=\"procedures_defnoreturn\" id=\"=2YOqYOk(x8IN.oF0HLb\" x=\"1088\" y=\"687\"><mutation><arg name=\"ms_from_now\" varid=\"0*)F984h9K%PP9kfdIA/\"></arg></mutation><field name=\"NAME\">set_timer2_from_now</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"6f2icwdM`*gol2pcRav]\"><field name=\"VAR\" id=\"bv_x?u)Zpx|{M:Jh#)SV\">timer2</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\",gG5@Y^)ZA{;7`5,@|n0\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"D*p2a[{@upd]:`[,L*Tc\"><field name=\"NUM\">1</field></shadow><block type=\"yolobit_input_running_time\" id=\"-o(uS^:qyFVr%/5bUJ~I\"></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"/YC!0dD]oo=_qbx$xZWa\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"|D^Hs[`CjTg%a-fCv,h,\"><field name=\"VAR\" id=\"0*)F984h9K%PP9kfdIA/\">ms_from_now</field></block></value></block></value></block></statement></block><block type=\"procedures_defreturn\" id=\"Y7Wega,[.aen|_e20L@h\" x=\"1087\" y=\"788\"><field name=\"NAME\">is_timer2_elapsed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><value name=\"RETURN\"><block type=\"logic_compare\" id=\".P5Pl6f1e+KvQFM_n3@k\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"yolobit_input_running_time\" id=\"@*sgE9!0z%tbecQB5LY/\"></block></value><value name=\"B\"><block type=\"variables_get\" id=\"T6Dsx3bxo6;kKDhZAlmj\"><field name=\"VAR\" id=\"bv_x?u)Zpx|{M:Jh#)SV\">timer2</field></block></value></block></value></block><block type=\"procedures_defnoreturn\" id=\"E=bM.9;jeNSGUCW9/Ecw\" x=\"1912\" y=\"837\"><mutation><arg name=\"cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">rgb_led_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\")`Ic]JbL;1liNx{Bqk=Q\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\":X_)7B7,:+W8b)cc2tf(\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text_length\" id=\"[)e{8)B;[fTK1Eh~E+,+\"><value name=\"VALUE\"><shadow type=\"text\" id=\"|H~47U3s),5j35XQ|Gjo\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"ti:mG0dy|GdK8.,?7;.Q\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"^mQo!*I49`jidth]v:@F\"><field name=\"NUM\">9</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"F!Q([Ua1dq*.,QEiZ]I4\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\".kabBtu[z$9~owLS5v.K\"><value name=\"A\"><block type=\"text_getSubstring\" id=\"{4}E:PhRJNmYQmM`hGdL\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"OH,=;-0k$Ek]h-JaXz9B\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"~p!SYyZu}aIDQnx5?`XH\"><field name=\"NUM\">1</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"A[K*@#nf8](COiagoky6\"><field name=\"NUM\">3</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\",~K@1A?JGKsu.uaYa6UR\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\";b56g7Ya7h$h^:[L{{,e\"><value name=\"A\"><block type=\"text_getSubstring\" id=\"{(}2Sq:#Mu6aq:AMc9A/\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"1#SD,a4DKr+p?R.w/1F7\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"`V9Dk,Dz,zEof:}1XqX$\"><field name=\"NUM\">4</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"cU{xesBkY?*0s]u:oew9\"><field name=\"NUM\">6</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"e[|vfJfoWn2=SYI5=3d:\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\"e`E@N6SdUP6R=[^=,/`G\"><value name=\"A\"><block type=\"text_getSubstring\" id=\")lfO((WJtG!r%l`Iv0bi\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"ZL5Tr)*W6~TUg.fb.sVN\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"?Cs1K:/}s!4yheQxmcf8\"><field name=\"NUM\">7</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"%Kz;bWWP;usba-y0r{}^\"><field name=\"NUM\">9</field></block></value></block></value></block></value><next><block type=\"controls_if\" id=\"pQ.X(yn3^otMA^t)=U(I\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_operation\" id=\".yF,Z_^jg%@-#cEjLbkz\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"$Lb+m1IO9}GOJIZ0I$d/\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\";o!?I/lu)6Ltc/}5*bX3\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"/go)Fx-{kNik$J.|FYJ5\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"wO:)DcS+K.S2H61nxO0k\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"2Wqd@#?@1@?UFWQvqg,O\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\"zfl)6od9{QsZQvEPs4nM\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"AT1yG)zvwuxt{/-cEB1s\"><field name=\"NUM\">255</field></block></value></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"[yZu$j3=INrsL=FM@}-h\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"Hpl(IwK(D#~8kF[-TsPA\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\"Fzr6meX+[bPG:.6wZkWN\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Co}fV1609@z1j:HZzM;$\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"0`ly8qeOG{)Vkg%q4M?;\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"oj@gTHm-9Ks5Vx9xp0tr\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\"M;5uf-|6,C:ixE364aV7\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"uBO[1udIF[!???8q4;Qg\"><field name=\"NUM\">255</field></block></value></block></value><value name=\"B\"><block type=\"logic_operation\" id=\"{n665(8c*j@|NN3HNe/F\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"@wkt8N?layYY;Kf=O)2M\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"variables_get\" id=\"R$5HI?@J%!?2Q48o5)2(\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"+B2K,XR;MNl(VGG+u;ov\"><field name=\"NUM\">0</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"qKun,?P^yokBwxI=caU~\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\",B=Y*oI-fp]_cyXpP,n;\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"Z#,d2-dR19IM,9x*wvU5\"><field name=\"NUM\">255</field></block></value></block></value></block></value></block></value></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"BBkRK@vGL;ct3e*RRc%A\"><field name=\"VAR\" id=\"0j@]0z_Xmu3*(ETL7:)a\">rgb_led_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"k|i`-.7tQ*iTKqsOR-rx\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><next><block type=\"aiot_led_tiny_set_all\" id=\"@5Y0I2}xXjei_Q8bgug#\"><field name=\"port\">pin16</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"-nl*.GRJg[%Zk]v8;.Uc\"><field name=\"COLOUR\">#ff0000</field></shadow><block type=\"yolobit_led_colour_rgb\" id=\"}D7KE,:kN5MBA=F/4ZXr\"><value name=\"RED\"><shadow type=\"math_number\" id=\"lY5LrX^nT;ziNI~f8A[t\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"8m0^{*av5P1ZN[87,{1~\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field></block></value><value name=\"GREEN\"><shadow type=\"math_number\" id=\"KClPd5T3483t${hvyB0U\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"hEK@C2jk#,BM.c{$M6SD\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field></block></value><value name=\"BLUE\"><shadow type=\"math_number\" id=\"}`Ntp?0v]c5?3S8Chasx\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"}#xw3g:T9s/aI51(`zah\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field></block></value></block></value><next><block type=\"aiot_led_tiny_set_all\" id=\"R*X.}KUh_Z~L/^18wGRf\"><field name=\"port\">pin12</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"-nl*.GRJg[%Zk]v8;.Uc\"><field name=\"COLOUR\">#ff0000</field></shadow><block type=\"yolobit_led_colour_rgb\" id=\"g:OMeq#id!FYQ8yg!e3.\"><value name=\"RED\"><shadow type=\"math_number\" id=\"lY5LrX^nT;ziNI~f8A[t\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"r9ACzcP)jeX`)h,zAIj?\"><field name=\"VAR\" id=\"{v}WifE%:*SWrvt`(ddS\">L_red_value</field></block></value><value name=\"GREEN\"><shadow type=\"math_number\" id=\"KClPd5T3483t${hvyB0U\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"QExkhiRT/Bf2[tp|Fo@?\"><field name=\"VAR\" id=\"#s%F~v9u+0YM,_i%y`|`\">L_green_value</field></block></value><value name=\"BLUE\"><shadow type=\"math_number\" id=\"}`Ntp?0v]c5?3S8Chasx\"><field name=\"NUM\">50</field></shadow><block type=\"variables_get\" id=\"0z15asz9VabU#Mr^L#9t\"><field name=\"VAR\" id=\"[pU(ngS8IR~jSWMk{;8A\">L_blue_value</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"N21}mkfBVYG!{U)MoH4e\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"eI@FK~UPo$aPAE-aKIhI\"><field name=\"TEXT\">0</field></shadow><block type=\"variables_get\" id=\"eBniFfO!wk!szF#W2DuL\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"3qr`#QZgEmTwg.`]A!_G\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"2Vttm~3%Dt(|m)0sO8ud\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"!NN,U*~ui^N,:RzoV6$E\"><field name=\"TEXT\">output/rgb_led/state</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"_~%*_J@HlOrehr|NWgFf\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"E@d*z)6d^^A3l}/IsFx:\"><field name=\"TEXT\">Command success</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"D_Pu}Cq=f1g(_f(*0$l~\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"1Pfy3h8uPy,wVJbS..-8\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"$}Es:Qygt`on?+`Hu:0n\"><field name=\"TEXT\">output/rgb_led/result</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"U]l;U$8$VhafYnx@mVDY\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"o^RGsqe`9skx$`@^/p$}\"><field name=\"TEXT\">Unknown command</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"/s5TiInxl;![0HxHbT0F\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"J8PEBmL,,o(Bze*NK+{1\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"!%bja?^_B7*5-GHb8^B_\"><field name=\"TEXT\">output/rgb_led/result</field></block></value></block></value></block></statement></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"$BjcoQ~?H[OiyNCRGo[c\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"0`{Gl!xI`Yj=P)fB]w]B\"><field name=\"TEXT\">Unknown command</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"r`?=hBRu_ka7o.*[XOZ1\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"TZaKU?[Rjre8r[A[YE;G\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"92x]91,a`yO/_c~#bwot\"><field name=\"TEXT\">output/rgb_led/result</field></block></value></block></value></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"t[MTUO!gR$UaF*hGa8)%\" x=\"1087\" y=\"912\"><mutation><arg name=\"ms_from_now\" varid=\"0*)F984h9K%PP9kfdIA/\"></arg></mutation><field name=\"NAME\">set_timer3_from_now</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"h@CSDff,^24;FWOtzHji\"><field name=\"VAR\" id=\"bv_x?u)Zpx|{M:Jh#)SV\">timer2</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\".%lt6K$:Q)@u(HEO^Jb%\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\" id=\"D*p2a[{@upd]:`[,L*Tc\"><field name=\"NUM\">1</field></shadow><block type=\"yolobit_input_running_time\" id=\"mI1)D8L?KDzi+JjcGi,b\"></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"/YC!0dD]oo=_qbx$xZWa\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\" id=\"%)Qj[ff;HqBlf0Hu8Uq9\"><field name=\"VAR\" id=\"0*)F984h9K%PP9kfdIA/\">ms_from_now</field></block></value></block></value></block></statement></block><block type=\"procedures_defreturn\" id=\"h0YvV#%qMHZvU#Ml!@e.\" x=\"1088\" y=\"1038\"><field name=\"NAME\">is_timer3_elapsed</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><value name=\"RETURN\"><block type=\"logic_compare\" id=\"(oq!q^t!Tm]g*DXd+mBv\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"yolobit_input_running_time\" id=\"[/d20M/c/a9Q_tTC4N$_\"></block></value><value name=\"B\"><block type=\"variables_get\" id=\"tr~W2*v=dig;__f%#l0!\"><field name=\"VAR\" id=\"mhq6E`O%p|UZ3)(H}zqd\">timer3</field></block></value></block></value></block><block type=\"procedures_defnoreturn\" id=\"hu#l:62Y?h2tqI@S|CEL\" x=\"238\" y=\"1562\"><field name=\"NAME\">startup_procedure</field><comment pinned=\"false\" h=\"80\" w=\"160\">Khởi tạo thiết bị và các kết nối - bao gồm MQTT và NTP</comment><statement name=\"STACK\"><block type=\"text_print\" id=\";No2e$WMyqk_zXCx$f6R\"><value name=\"TEXT\"><shadow type=\"text\" id=\"$UH.:5/y2l5thbg=J@Nv\"><field name=\"TEXT\">Starting...</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"!DkEH@vkX~H(|mY,ci9$\"><mutation name=\"init_user_constant\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"^sg%xrzO[`6LFrEef:Wa\"><mutation name=\"connect_wifi\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"XAP9_Fo){eia6LQ8XPZ/\"><mutation name=\"init_mqtt\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"V%C0|ts;-t5l[XtT#qL^\"><mutation name=\"register_mqtt_receive_callback\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"oS;M:Yg1whij6Sf:+{xL\"><mutation name=\"ntp_update\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"_zi*T@4nwE(5{g_i:moC\"><mutation name=\"init_input\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"/W0CvCV+}:YibRh4m;NF\"><mutation name=\"init_output\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"`Z-}v_dYghi)-N^V9SNt\"><mutation name=\"state_machines_init\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"p0:j47wTc)bLpWK-:;R7\" x=\"1913\" y=\"1662\"><mutation><arg name=\"cmd_str\" varid=\"4epgj_+57_J-%{/W)e6@\"></arg></mutation><field name=\"NAME\">pump_control</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"!Bb-H8/Yy~p)G7WCd7[%\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"zBzC*ligCD?O1Km2?TsA\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Kj*79`-+MpVk!(ia1y6r\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"jb$dyq;6Uxb6uKx!R:3i\"><field name=\"TEXT\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"^w^A|G^aOOlBk{WTfaGw\"><field name=\"VAR\" id=\"#(M%9;*TlClci?@B6g[L\">pump_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"^^$TissOVB-7-_!v.T7G\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><next><block type=\"aiot_dual_usb\" id=\"8`URK(~CJS2XD`%EPo2}\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"R3~a9`(!(|v*lLS-#TR8\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_dual_usb\" id=\"~N#OrftSkk)N{]0c~JFn\"><field name=\"NAME\">pin13</field><value name=\"percent\"><shadow type=\"math_number\" id=\"QkI/9]R*}Q-9`0Ok$P^J\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_mqtt_publish\" id=\"@=AV_6}lVo3cp^(%[*%Q\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"!|o/in3LvvbUvrK56wDL\"><field name=\"TEXT\">0</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"6?0oN%,d|}d93joBLM,!\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\".~u_ln)r1SH}u^l_F$w#\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"E9lz/OJBO.=pcFN/e/!@\"><field name=\"TEXT\">output/pump/state</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"IxO)p^Uf{}=/C9obY~2{\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"Wcr[z:-xwlCeF{?e~J2n\"><field name=\"TEXT\">Command success</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"Z6a)PY3DSk8GZ}=yO+@b\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\":yvJpx~#$0M/d-axJ9F|\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"[a@HJ5G}tZO7WB-%/=v-\"><field name=\"TEXT\">output/pump/result</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><block type=\"logic_compare\" id=\"eA-UaD~-~ZY3SOX$)_{.\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\":/v*^9|:`G+c[Y)en=ZD\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><value name=\"B\"><block type=\"text\" id=\"X+@[IVo1_AT~Qz|Nc[P^\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"|vQ:~*bE0R(CB-kg=xaT\"><field name=\"VAR\" id=\"#(M%9;*TlClci?@B6g[L\">pump_state</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"?7:4znXe|Xu9|(qt|k*]\"><field name=\"VAR\" id=\"4epgj_+57_J-%{/W)e6@\">cmd_str</field></block></value><next><block type=\"aiot_dual_usb\" id=\":tOT.wZsCFQ(Y_h{yHqa\"><field name=\"NAME\">pin10</field><value name=\"percent\"><shadow type=\"math_number\" id=\"u=_%|glBc~%UkSEF$U{V\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"aiot_dual_usb\" id=\"SW]6I+Qu`L@n=[w1whQ.\"><field name=\"NAME\">pin13</field><value name=\"percent\"><shadow type=\"math_number\" id=\"yY@75?}mp}G00n}C*E4i\"><field name=\"NUM\">100</field></shadow></value><next><block type=\"yolobit_mqtt_publish\" id=\"#)i[eO@na{c;^)fy7=:j\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"%5B5_?S?:y.Py=~3D`95\"><field name=\"TEXT\">1</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"Ws{*vxW}$4Lc0KV5Tu,K\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"?NSOY;[26X:1^{6QKj9_\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"w]$_xf+{[j#x81E1Ve-*\"><field name=\"TEXT\">output/pump/state</field></block></value></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"~n4;gNzM$e/hC,L).j!#\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\")xNAh4lvWP6zfk_+2_x1\"><field name=\"TEXT\">Command success</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\"-vMssb4lB7hHZ$,u3oW[\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"+vrWRwheVv7[j)cIk4tl\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"g?_N6XVa{1yt|A!9kTv*\"><field name=\"TEXT\">output/pump/result</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"yolobit_mqtt_publish\" id=\"o@GF*HpZXYdv-s/0;MNh\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"!(C.f$vme#kAWJ}2SE*R\"><field name=\"TEXT\">Unknown command</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"mSAM.E6vd3FiyCfhrwC7\"><field name=\"TEXT\">topic</field></shadow><block type=\"text_join\" id=\",enBQ?FCr$8_QTR+!_T3\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><block type=\"variables_get\" id=\"Z!Q`^fFp/K*b];5/w@@*\"><field name=\"VAR\" id=\"_%Ra$!Pmn12p`pA(Cv@Q\">C_mqtt_topic_prefix</field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"iOn6T+EHb|xGM}bnk@y4\"><field name=\"TEXT\">output/pump/result</field></block></value></block></value></block></statement></block></statement></block></xml>","python":"from yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom mqtt import *\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nfrom machine import RTC\nimport ntptime\nimport time\nfrom event_manager import *\nfrom aiot_hcsr04 import HCSR04\nfrom aiot_rgbled import RGBLed\n\n# Mô tả hàm này...\ndef init_user_constant():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  C_mqtt_topic_prefix = 'bk_hk231_yolohome/'\n  C_soil_humid_lower_limit = 50\n  C_soil_humid_upper_limit = 70\n  C_ultrasonic_distance_threshold_cm = 75\n  print('User constant set...')\n\n# Mô tả hàm này...\ndef servo_control(cmd_str):\n  global speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if cmd_str == '0':\n    servo_state = '0'\n    pin4.servo_write(0)\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/servo/state'), '0')\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/servo/result'), 'Command success')\n  elif cmd_str == '1':\n    servo_state = '1'\n    pin4.servo_write(90)\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/servo/state'), '1')\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/servo/result'), 'Command success')\n  else:\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/servo/result'), 'Unknown command')\n\n# Mô tả hàm này...\ndef plan_watering_state_machine_init():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  plant_watering_current_state = 0\n\n# Mô tả hàm này...\ndef light_control_state_machine_init():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  light_control_current_state = 0\n  rgb_led_new_cmd = 0\n\n# Mô tả hàm này...\ndef plan_watering_state_action():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pass\n\n# Mô tả hàm này...\ndef door_control_state_machine_init():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  door_control_current_state = 0\n  servo_new_cmd = 0\n\n# Mô tả hàm này...\ndef connect_wifi():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  mqtt.connect_wifi('P.Long', 'phuoclong1975')\n  print('Wi-Fi connected...')\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\n# Mô tả hàm này...\ndef read_input_sensor():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pir_state = pin0.read_digital()==1\n  aiot_dht20.read_dht20()\n  air_temp_state = aiot_dht20.dht20_temperature()\n  air_humid_state = aiot_dht20.dht20_humidity()\n  soil_humid_state = round(translate((pin1.read_analog()), 0, 4095, 0, 100))\n  ultrasound_state = aiot_ultrasonic.distance_cm() < 50\n  print('Input sensor read...', end =' ')\n\n# Mô tả hàm này...\ndef light_control_state_action():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pass\n\n# Mô tả hàm này...\ndef plan_watering_state_machine_update():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if plant_watering_current_state != 0 and soil_humid_state > C_soil_humid_upper_limit:\n    plant_watering_current_state = 0\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'plant_watering/notification'), 'Soil humidity upper limit reached')\n  elif plant_watering_current_state == 0:\n    if soil_humid_state < C_soil_humid_lower_limit:\n      plant_watering_current_state = 1\n      mqtt.publish((str(C_mqtt_topic_prefix) + 'plant_watering/notification'), 'Soil is dry, need watering')\n  elif plant_watering_current_state == 1:\n    if pump_cmd == '1':\n      pump_cmd = '0'\n      plant_watering_current_state = 2\n      set_timer1_from_now(30000)\n      mqtt.publish((str(C_mqtt_topic_prefix) + 'plant_watering/notification'), 'Watering activated')\n  elif plant_watering_current_state == 2:\n    if is_timer1_elapsed():\n      plant_watering_current_state = 3\n      set_timer1_from_now(2000)\n      pump_control('1')\n  elif plant_watering_current_state == 3:\n    if is_timer1_elapsed():\n      plant_watering_current_state = 2\n      set_timer1_from_now(30000)\n      pump_control('0')\n  else:\n    plan_watering_state_machine_init()\n    print('Plan watering state machine error, reset state machine...')\n\n# Mô tả hàm này...\ndef door_control_state_action():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pass\n\n# Mô tả hàm này...\ndef init_mqtt():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  mqtt.connect_broker(server='broker.hivemq.com', port=1883, username='', password='')\n  print('MQTT broker connected...')\n\n# Mô tả hàm này...\ndef light_control_state_machine_update():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if rgb_led_new_cmd == 1:\n    rgb_led_new_cmd = 0\n    light_control_current_state = 3\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'light_control/notification'), 'Change to manual mode')\n    rgb_led_control(rgb_led_cmd)\n    set_timer2_from_now(600000)\n  elif light_control_current_state == 3 and is_timer2_elapsed():\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'light_control/notification'), 'Change to automatic mode')\n    if rgb_led_state == '000000000':\n      light_control_current_state = 0\n    else:\n      light_control_current_state = 1\n      set_timer2_from_now(15000)\n  elif light_control_current_state == 0 and (pin0.read_digital()==1):\n    light_control_current_state = 1\n    set_timer2_from_now(15000)\n    rgb_led_control('255255255')\n  elif light_control_current_state == 1 and is_timer2_elapsed():\n    if light_control_presence == '0':\n      light_control_current_state = 0\n      rgb_led_control('000000000')\n    else:\n      light_control_current_state = 2\n  elif light_control_current_state == 2:\n    if light_control_presence == '0':\n      light_control_current_state = 1\n      set_timer2_from_now(15000)\n  else:\n    light_control_state_machine_init()\n    print('Light control state machine error, reset state machine...')\n\n# Mô tả hàm này...\ndef door_control_state_machine_update():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if servo_new_cmd == 1:\n    servo_new_cmd = 0\n    door_control_current_state = 3\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'door_control/notification'), 'Change to manual mode')\n    servo_control(servo_cmd)\n    set_timer3_from_now(30000)\n  elif door_control_current_state == 3 and is_timer3_elapsed():\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'door_control/notification'), 'Change to automatic mode')\n    if servo_state == '0':\n      door_control_current_state = 0\n    else:\n      door_control_current_state = 2\n  elif door_control_current_state == 0 and (aiot_ultrasonic.distance_cm() < C_ultrasonic_distance_threshold_cm):\n    door_control_current_state = 1\n    set_timer3_from_now(15000)\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'door_control/id_activate'), 'Run')\n  elif door_control_current_state == 1 and is_timer3_elapsed():\n    if door_control_id_result == '0':\n      door_control_current_state = 0\n    else:\n      door_control_current_state = 2\n      servo_control('1')\n  elif door_control_current_state == 2:\n    if not (aiot_ultrasonic.distance_cm() < C_ultrasonic_distance_threshold_cm):\n      door_control_current_state = 0\n      servo_control('0')\n  else:\n    door_control_state_machine_init()\n    print('Door control state machine error, reset state machine...')\n\n# Mô tả hàm này...\ndef ntp_update():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  ntptime.settime()\n  (year, month, mday, week_of_year, hour, minute, second, milisecond) = RTC().datetime()\n  RTC().init((year, month, mday, week_of_year, hour+7, minute, second, milisecond))\n  print('NTP time updated...')\n\nevent_manager.reset()\n\n# Mô tả hàm này...\ndef send_sensor_data():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  mqtt.publish((str(C_mqtt_topic_prefix) + 'sensor/air_temp'), air_temp_state)\n  mqtt.publish((str(C_mqtt_topic_prefix) + 'sensor/air_humid'), air_humid_state)\n  mqtt.publish((str(C_mqtt_topic_prefix) + 'sensor/soil_humid'), soil_humid_state)\n  print('Sensor data sent...', end =' ')\n\n# Mô tả hàm này...\ndef init_input():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  aiot_ultrasonic = HCSR04(trigger_pin=pin3.pin, echo_pin=pin6.pin)\n  read_input_sensor()\n  send_sensor_data()\n  print('Input devices initialized...')\n\n# Mô tả hàm này...\ndef fan_control(speed_str):\n  global cmd_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if (int(cmd_str)) >= 0 and (int(cmd_str)) <= 100:\n    fan_state = cmd_str\n    pin14.write_analog(round(translate((int(cmd_str)), 0, 100, 0, 1023)))\n    pin15.write_analog(round(translate((int(cmd_str)), 0, 100, 0, 1023)))\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/fan/state'), cmd_str)\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/fan/result'), 'Command success')\n  else:\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/fan/result'), 'Unknown command')\n\ndef on_event_timer_callback_M_K_F_n_K():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  mqtt.check_message()\n\nevent_manager.add_timer_event(1000, on_event_timer_callback_M_K_F_n_K)\n\ndef on_event_timer_callback_n_w_s_v_O():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  read_input_sensor()\n  send_sensor_data()\n\nevent_manager.add_timer_event(10000, on_event_timer_callback_n_w_s_v_O)\n\ntiny_rgb = RGBLed(pin12.pin, 4)\n\n# Mô tả hàm này...\ndef init_output():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  pin2.write_digital(0)\n  relay_state = 0\n  pin14.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  pin15.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  fan_state = 0\n  pin4.servo_write(0)\n  servo_state = 0\n  tiny_rgb.show(0, hex_to_rgb('#000000'))\n  tiny_rgb.show(0, hex_to_rgb('#000000'))\n  rgb_led_state = ''.join([str(x) for x in ['000', '000', '000']])\n  pin10.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  pin13.write_analog(round(translate(0, 0, 100, 0, 1023)))\n  pump_state = 0\n  print('Output devices initialized...')\n\n# Mô tả hàm này...\ndef state_machines_init():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  plan_watering_state_machine_init()\n  light_control_state_machine_init()\n  door_control_state_machine_init()\n\ndef on_event_timer_callback_I_d_O_J_x():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  state_machines_update()\n  state_machines_action()\n\nevent_manager.add_timer_event(200, on_event_timer_callback_I_d_O_J_x)\n\n# Mô tả hàm này...\ndef state_machines_update():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  plan_watering_state_machine_update()\n  light_control_state_machine_update()\n  door_control_state_machine_update()\n\n# Mô tả hàm này...\ndef relay_control(cmd_str):\n  global speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if cmd_str == '0':\n    relay_state = cmd_str\n    pin2.write_digital(0)\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/relay/state'), '0')\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/relay/result'), 'Command success')\n  elif cmd_str == '1':\n    relay_state = cmd_str\n    pin2.write_digital(1)\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/relay/state'), '1')\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/relay/result'), 'Command success')\n  else:\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/relay/result'), 'Unknown command')\n\n# Mô tả hàm này...\ndef state_machines_action():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  plan_watering_state_action()\n  light_control_state_action()\n  door_control_state_action()\n\n# Mô tả hàm này...\ndef set_timer1_from_now(ms_from_now):\n  global cmd_str, speed_str, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  timer1 = running_time() + ms_from_now\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_servo_command__(new_mqtt_content):\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  servo_cmd = new_mqtt_content\n  servo_new_cmd = 1\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_fan_command__(new_mqtt_content):\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  fan_cmd = new_mqtt_content\n  fan_control(fan_cmd)\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_relay_command__(new_mqtt_content):\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  relay_cmd = new_mqtt_content\n  relay_control(relay_cmd)\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_rgb_led_command__(new_mqtt_content):\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  rgb_led_cmd = new_mqtt_content\n  rgb_led_new_cmd = 1\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_pump_command__(new_mqtt_content):\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  pump_cmd = new_mqtt_content\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____light_control_presence__(new_mqtt_content):\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  light_control_presence = new_mqtt_content\n\ndef on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____door_control_id_result__(new_mqtt_content):\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state\n  door_control_id_result = new_mqtt_content\n\n# Mô tả hàm này...\ndef register_mqtt_receive_callback():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/servo/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_servo_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/fan/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_fan_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/relay/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_relay_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/rgb_led/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_rgb_led_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'output/pump/command'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____output_pump_command__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'light_control/presence'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____light_control_presence__)\n  mqtt.on_receive_message((str(C_mqtt_topic_prefix) + 'door_control/id_result'), on_mqtt_message_receive_callback__str_C_mqtt_topic_prefix_____door_control_id_result__)\n\n# Mô tả hàm này...\ndef is_timer1_elapsed():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  return running_time() >= timer1\n\n# Mô tả hàm này...\ndef set_timer2_from_now(ms_from_now):\n  global cmd_str, speed_str, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  timer2 = running_time() + ms_from_now\n\n# Mô tả hàm này...\ndef is_timer2_elapsed():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  return running_time() >= timer2\n\ndef colour_rgb(r, g, b):\n  r = round(min(100, max(0, r)) * 2.55)\n  g = round(min(100, max(0, g)) * 2.55)\n  b = round(min(100, max(0, b)) * 2.55)\n  return '#%02x%02x%02x' % (r, g, b)\n\n# Mô tả hàm này...\ndef rgb_led_control(cmd_str):\n  global speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if len(cmd_str) == 9:\n    L_red_value = int((cmd_str[ : 3]))\n    L_green_value = int((cmd_str[3 : 6]))\n    L_blue_value = int((cmd_str[6 : 9]))\n    if L_red_value >= 0 and L_red_value <= 255 and L_green_value >= 0 and L_green_value <= 255 and L_blue_value >= 0 and L_blue_value <= 255:\n      rgb_led_state = cmd_str\n      tiny_rgb.show(0, hex_to_rgb((colour_rgb(L_red_value, L_green_value, L_blue_value))))\n      tiny_rgb.show(0, hex_to_rgb((colour_rgb(L_red_value, L_green_value, L_blue_value))))\n      mqtt.publish((str(C_mqtt_topic_prefix) + 'output/rgb_led/state'), cmd_str)\n      mqtt.publish((str(C_mqtt_topic_prefix) + 'output/rgb_led/result'), 'Command success')\n    else:\n      mqtt.publish((str(C_mqtt_topic_prefix) + 'output/rgb_led/result'), 'Unknown command')\n  else:\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/rgb_led/result'), 'Unknown command')\n\n# Mô tả hàm này...\ndef set_timer3_from_now(ms_from_now):\n  global cmd_str, speed_str, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  timer2 = running_time() + ms_from_now\n\n# Mô tả hàm này...\ndef is_timer3_elapsed():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  return running_time() >= timer3\n\n# Khởi tạo thiết bị và các kết nối - bao gồm MQTT và NTP\ndef startup_procedure():\n  global cmd_str, speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  print('Starting...')\n  init_user_constant()\n  connect_wifi()\n  init_mqtt()\n  register_mqtt_receive_callback()\n  ntp_update()\n  init_input()\n  init_output()\n  state_machines_init()\n\n# Mô tả hàm này...\ndef pump_control(cmd_str):\n  global speed_str, ms_from_now, C_mqtt_topic_prefix, plant_watering_current_state, light_control_current_state, door_control_current_state, pir_state, timer1, new_mqtt_content, timer2, C_soil_humid_lower_limit, servo_state, rgb_led_new_cmd, servo_new_cmd, air_temp_state, fan_state, relay_state, servo_cmd, L_red_value, timer3, pump_state, C_soil_humid_upper_limit, pump_cmd, air_humid_state, fan_cmd, L_green_value, C_ultrasonic_distance_threshold_cm, soil_humid_state, light_control_presence, door_control_id_result, relay_cmd, L_blue_value, rgb_led_state, rgb_led_cmd, ultrasound_state, aiot_ultrasonic, aiot_dht20, tiny_rgb\n  if cmd_str == '0':\n    pump_state = cmd_str\n    pin10.write_analog(round(translate(0, 0, 100, 0, 1023)))\n    pin13.write_analog(round(translate(0, 0, 100, 0, 1023)))\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/pump/state'), '0')\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/pump/result'), 'Command success')\n  elif cmd_str == '1':\n    pump_state = cmd_str\n    pin10.write_analog(round(translate(100, 0, 100, 0, 1023)))\n    pin13.write_analog(round(translate(100, 0, 100, 0, 1023)))\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/pump/state'), '1')\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/pump/result'), 'Command success')\n  else:\n    mqtt.publish((str(C_mqtt_topic_prefix) + 'output/pump/result'), 'Unknown command')\n\nif True:\n  startup_procedure()\n\nwhile True:\n  event_manager.run()\n  time.sleep_ms(50)\n\n\n0\n","name":"YoloHome","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_ntp","src":"https://github.com/AITT-VN/yolobit_ntp","name":"NTP","description":"Mục mở rộng hỗ trợ đọc thời gian từ Internet qua giao thức NTP (Network Time Protocol)"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"}],"device":"yolobit"}